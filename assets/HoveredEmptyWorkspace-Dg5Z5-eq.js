var Tn=Object.defineProperty;var Ct=t=>{throw TypeError(t)};var hn=(t,s,o)=>s in t?Tn(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o;var z=(t,s,o)=>hn(t,typeof s!="symbol"?s+"":s,o),Qe=(t,s,o)=>s.has(t)||Ct("Cannot "+o);var M=(t,s,o)=>(Qe(t,s,"read from private field"),o?o.call(t):s.get(t)),he=(t,s,o)=>s.has(t)?Ct("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,o),ge=(t,s,o,e)=>(Qe(t,s,"write to private field"),e?e.call(t,o):s.set(t,o),o),Ee=(t,s,o)=>(Qe(t,s,"access private method"),o);import{j as f}from"./jsx-runtime-DR9Q75dM.js";import{r as I,c as gn,g as Ri,R as En}from"./index-DRjF_FHU.js";import{B as fn,h as ss,l as bn,f as be,e as mt,a as _e,j as R,k as Sn,m as In,b as ns,u as Z,g as it,t as On,i as Ce,c as Lt}from"./mixpanel-Bz6MsQbQ.js";import{S as Rn,w as An,q as Nt,A as yn,b as os,z as Ne}from"./QueryClientProvider-BdRu95_o.js";import{_ as w}from"./index-D1AAVYfs.js";import{S as Cn,I as Ln}from"./ImageTagModalListItem-D30WR0c8.js";import{C as Tt,S as Nn}from"./plus-C7enkl2d.js";import"./SquareButton-eIFPi1Hz.js";import"./Logo-BbusgMO-.js";import{r as rs}from"./index-BXCeiWJk.js";import"./ToasterWithMax-D4jPvwZi.js";import"./Loading-CVQUyNmW.js";import{S as Ve}from"./Spinner-m3P6xpUg.js";import"./SkeletonWorkspace-D4UalYBK.js";import"./SkeletonWorkspaceList-LqBByOXs.js";import"./WorkspaceLoadError-BuktD2D2.js";import"./NotHoveredEmptyWorkspace-loFxOJJf.js";import{u as kn,b as ht}from"./index-x70cJmE6.js";import"./CssCategoryButton-Cb0moDQb.js";import{c as Mn}from"./client-Dbo3a7kb.js";import"./ImageTagModalHeader-BmpzU2ne.js";import"./ImageTagModalImg-BJAMLe19.js";import"./ImageTagModalButton-DJiJ58eG.js";import{u as xn}from"./useCoachMarkStore-Bn0-Ay5q.js";const Bn=t=>I.createElement("svg",{width:94,height:89,viewBox:"0 0 94 89",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},I.createElement("path",{d:"M15.666 44.4731H78.3327",stroke:"#00D78B",strokeWidth:8,strokeLinecap:"round",strokeLinejoin:"round"}),I.createElement("path",{d:"M47 14.8311L47 74.1147",stroke:"#00D78B",strokeWidth:8,strokeLinecap:"round",strokeLinejoin:"round"})),U=[];for(let t=0;t<256;++t)U.push((t+256).toString(16).slice(1));function Pn(t,s=0){return(U[t[s+0]]+U[t[s+1]]+U[t[s+2]]+U[t[s+3]]+"-"+U[t[s+4]]+U[t[s+5]]+"-"+U[t[s+6]]+U[t[s+7]]+"-"+U[t[s+8]]+U[t[s+9]]+"-"+U[t[s+10]]+U[t[s+11]]+U[t[s+12]]+U[t[s+13]]+U[t[s+14]]+U[t[s+15]]).toLowerCase()}let Ze;const wn=new Uint8Array(16);function Dn(){if(!Ze){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ze=crypto.getRandomValues.bind(crypto)}return Ze(wn)}const vn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kt={randomUUID:vn};function Fn(t,s,o){if(kt.randomUUID&&!s&&!t)return kt.randomUUID();t=t||{};const e=t.random||(t.rng||Dn)();return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Pn(e)}const Se=()=>localStorage.getItem("userId"),Ge=()=>{const t=Fn();return localStorage.setItem("userId",t),t},Un=t=>{const s=new Date(t),o=new Date,e=new Intl.RelativeTimeFormat("ko",{numeric:"auto"}),r=Math.floor((s.getTime()-o.getTime())/(1e3*60)),l=Math.floor(r/60);return r>-60?e.format(r,"minute"):l>-24?e.format(l,"hour"):new Intl.DateTimeFormat("ko",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s)},is=(t,s)=>{let o;return(...e)=>{let r;return o&&clearTimeout(o),o=setTimeout(()=>{r=t(...e)},s),r}},{ASTNode:Wi,BasicCursor:qi,Block:Ji,BlockSvg:zi,Blocks:Mt,COLLAPSED_FIELD_NAME:Qi,COLLAPSED_INPUT_NAME:Zi,COLLAPSE_CHARS:el,CodeGenerator:tl,CollapsibleToolboxCategory:sl,ComponentManager:nl,Connection:ol,ConnectionChecker:rl,ConnectionDB:il,ConnectionType:ll,ContextMenu:Hn,ContextMenuItems:al,ContextMenuRegistry:et,Css:cl,Cursor:ul,DELETE_VARIABLE_ID:dl,DeleteArea:pl,DragTarget:$l,DropDownDiv:_l,Events:ml,Extensions:Tl,Field:Vn,FieldCheckbox:hl,FieldDropdown:gl,FieldImage:El,FieldLabel:ls,FieldLabelSerializable:Gn,FieldNumber:fl,FieldTextInput:Yn,FieldVariable:bl,Flyout:Sl,FlyoutButton:Il,FlyoutMetricsManager:Ol,Generator:Kn,Gesture:Rl,Grid:Al,HorizontalFlyout:yl,INPUT_VALUE:Cl,Input:Ll,InsertionMarkerManager:Nl,InsertionMarkerPreviewer:kl,Marker:Ml,MarkerManager:xl,Menu:Bl,MenuItem:Pl,MetricsManager:wl,Msg:Dl,NEXT_STATEMENT:vl,Names:Fl,OPPOSITE_TYPE:Ul,OUTPUT_VALUE:Hl,Options:Vl,PREVIOUS_STATEMENT:Gl,PROCEDURE_CATEGORY_NAME:Yl,Procedures:Kl,RENAME_VARIABLE_ID:Xl,RenderedConnection:jl,Scrollbar:Wl,ScrollbarPair:ql,ShortcutItems:Jl,ShortcutRegistry:zl,TOOLBOX_AT_BOTTOM:Ql,TOOLBOX_AT_LEFT:Zl,TOOLBOX_AT_RIGHT:ea,TOOLBOX_AT_TOP:ta,TabNavigateCursor:sa,Theme:Xn,ThemeManager:na,Themes:as,Toolbox:oa,ToolboxCategory:ra,ToolboxItem:ia,ToolboxSeparator:la,Tooltip:aa,Touch:ca,Trashcan:ua,UnattachedFieldError:da,VARIABLE_CATEGORY_NAME:pa,VARIABLE_DYNAMIC_CATEGORY_NAME:$a,VERSION:_a,VariableMap:ma,VariableModel:Ta,Variables:ha,VariablesDynamic:ga,VerticalFlyout:jn,WidgetDiv:Ea,Workspace:fa,WorkspaceAudio:ba,WorkspaceDragger:Sa,WorkspaceSvg:Ia,Xml:Oa,ZoomControls:Ra,blockAnimations:Aa,blockRendering:ya,browserEvents:Ca,bubbles:La,bumpObjects:Na,clipboard:ka,comments:Ma,common:xa,config:Ba,constants:Pa,defineBlocksWithJsonArray:wa,dialog:Da,dragging:va,fieldRegistry:Fa,geras:Ua,getMainWorkspace:xt,getSelected:Ha,hasBubble:Va,hideChaff:Ga,icons:Ya,inject:Ka,inputs:Xa,isCopyable:ja,isDeletable:Wa,isDraggable:qa,isIcon:Ja,isObservable:za,isPaster:Qa,isRenderedElement:Za,isSelectable:ec,isSerializable:tc,isVariableBackedParameterModel:sc,procedures:nc,registry:oc,renderManagement:rc,serialization:Wn,setLocale:ic,setParentContainer:lc,svgResize:ac,thrasos:cc,uiPosition:uc,utils:Q,zelos:dc}=fn,qn=async()=>{var r,l;const t=(r=ss.getState().iframeRef)==null?void 0:r.current;if(!t)throw new Error(ve.SELECT_PREVIEW_TAB);const s=(t==null?void 0:t.contentDocument)||((l=t==null?void 0:t.contentWindow)==null?void 0:l.document);if(!s)throw new Error(ve.FAIL_TO_SAVE);const o=t.getBoundingClientRect().y;return await bn(s.documentElement,{useCORS:!0,logging:!0,allowTaint:!0,imageTimeout:2e4,proxy:"https://boolock-storage.kr.object.ncloudstorage.com/",scale:2,width:t.clientWidth,height:t.clientWidth,ignoreElements:a=>!a||!a.getBoundingClientRect?!0:a.getBoundingClientRect().y-o>t.clientWidth})},ve={SELECT_PREVIEW_TAB:"미리보기 탭을 선택해주세요.",FAIL_TO_SAVE:"저장에 실패했습니다."},Jn=()=>{var c,m;const t=(c=ss.getState().iframeRef)==null?void 0:c.current,s=be.getState().name;if(!t)throw new Error(ve.SELECT_PREVIEW_TAB);const o=(t==null?void 0:t.contentDocument)||((m=t==null?void 0:t.contentWindow)==null?void 0:m.document);if(!o)throw new Error(ve.FAIL_TO_SAVE);const e=o.documentElement.outerHTML,r=new Blob([e],{type:"text/html"}),l=URL.createObjectURL(r),a=document.createElement("a");return a.href=l,a.download=`${s}.html`,a.click(),URL.revokeObjectURL(l),!1};var ue,de,V,oe,re,Pe,lt,ts,zn=(ts=class extends Rn{constructor(s,o){super();he(this,re);he(this,ue);he(this,de);he(this,V);he(this,oe);ge(this,ue,s),this.setOptions(o),this.bindMethods(),Ee(this,re,Pe).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var e;const o=this.options;this.options=M(this,ue).defaultMutationOptions(s),An(this.options,o)||M(this,ue).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,V),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&Nt(o.mutationKey)!==Nt(this.options.mutationKey)?this.reset():((e=M(this,V))==null?void 0:e.state.status)==="pending"&&M(this,V).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=M(this,V))==null||s.removeObserver(this)}onMutationUpdate(s){Ee(this,re,Pe).call(this),Ee(this,re,lt).call(this,s)}getCurrentResult(){return M(this,de)}reset(){var s;(s=M(this,V))==null||s.removeObserver(this),ge(this,V,void 0),Ee(this,re,Pe).call(this),Ee(this,re,lt).call(this)}mutate(s,o){var e;return ge(this,oe,o),(e=M(this,V))==null||e.removeObserver(this),ge(this,V,M(this,ue).getMutationCache().build(M(this,ue),this.options)),M(this,V).addObserver(this),M(this,V).execute(s)}},ue=new WeakMap,de=new WeakMap,V=new WeakMap,oe=new WeakMap,re=new WeakSet,Pe=function(){var o;const s=((o=M(this,V))==null?void 0:o.state)??yn();ge(this,de,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},lt=function(s){os.batch(()=>{var o,e,r,l,a,c,m,$;if(M(this,oe)&&this.hasListeners()){const p=M(this,de).variables,T=M(this,de).context;(s==null?void 0:s.type)==="success"?((e=(o=M(this,oe)).onSuccess)==null||e.call(o,s.data,p,T),(l=(r=M(this,oe)).onSettled)==null||l.call(r,s.data,null,p,T)):(s==null?void 0:s.type)==="error"&&((c=(a=M(this,oe)).onError)==null||c.call(a,s.error,p,T),($=(m=M(this,oe)).onSettled)==null||$.call(m,void 0,s.error,p,T))}this.listeners.forEach(p=>{p(M(this,de))})})},ts);function Qn(t,s){return typeof t=="function"?t(...s):!!t}function Zn(){}function Ie(t,s){const o=Ne(),[e]=I.useState(()=>new zn(o,t));I.useEffect(()=>{e.setOptions(t)},[e,t]);const r=I.useSyncExternalStore(I.useCallback(a=>e.subscribe(os.batchCalls(a)),[e]),()=>e.getCurrentResult(),()=>e.getCurrentResult()),l=I.useCallback((a,c)=>{e.mutate(a,c).catch(Zn)},[e]);if(r.error&&Qn(e.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}function cs(t,s){return function(){return t.apply(s,arguments)}}const{toString:eo}=Object.prototype,{getPrototypeOf:gt}=Object,Ye=(t=>s=>{const o=eo.call(s);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),te=t=>(t=t.toLowerCase(),s=>Ye(s)===t),Ke=t=>s=>typeof s===t,{isArray:Oe}=Array,Le=Ke("undefined");function to(t){return t!==null&&!Le(t)&&t.constructor!==null&&!Le(t.constructor)&&j(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const us=te("ArrayBuffer");function so(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&us(t.buffer),s}const no=Ke("string"),j=Ke("function"),ds=Ke("number"),Xe=t=>t!==null&&typeof t=="object",oo=t=>t===!0||t===!1,we=t=>{if(Ye(t)!=="object")return!1;const s=gt(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ro=te("Date"),io=te("File"),lo=te("Blob"),ao=te("FileList"),co=t=>Xe(t)&&j(t.pipe),uo=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||j(t.append)&&((s=Ye(t))==="formdata"||s==="object"&&j(t.toString)&&t.toString()==="[object FormData]"))},po=te("URLSearchParams"),[$o,_o,mo,To]=["ReadableStream","Request","Response","Headers"].map(te),ho=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ke(t,s,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let e,r;if(typeof t!="object"&&(t=[t]),Oe(t))for(e=0,r=t.length;e<r;e++)s.call(null,t[e],e,t);else{const l=o?Object.getOwnPropertyNames(t):Object.keys(t),a=l.length;let c;for(e=0;e<a;e++)c=l[e],s.call(null,t[c],c,t)}}function ps(t,s){s=s.toLowerCase();const o=Object.keys(t);let e=o.length,r;for(;e-- >0;)if(r=o[e],s===r.toLowerCase())return r;return null}const $e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$s=t=>!Le(t)&&t!==$e;function at(){const{caseless:t}=$s(this)&&this||{},s={},o=(e,r)=>{const l=t&&ps(s,r)||r;we(s[l])&&we(e)?s[l]=at(s[l],e):we(e)?s[l]=at({},e):Oe(e)?s[l]=e.slice():s[l]=e};for(let e=0,r=arguments.length;e<r;e++)arguments[e]&&ke(arguments[e],o);return s}const go=(t,s,o,{allOwnKeys:e}={})=>(ke(s,(r,l)=>{o&&j(r)?t[l]=cs(r,o):t[l]=r},{allOwnKeys:e}),t),Eo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fo=(t,s,o,e)=>{t.prototype=Object.create(s.prototype,e),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),o&&Object.assign(t.prototype,o)},bo=(t,s,o,e)=>{let r,l,a;const c={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),l=r.length;l-- >0;)a=r[l],(!e||e(a,t,s))&&!c[a]&&(s[a]=t[a],c[a]=!0);t=o!==!1&&gt(t)}while(t&&(!o||o(t,s))&&t!==Object.prototype);return s},So=(t,s,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=s.length;const e=t.indexOf(s,o);return e!==-1&&e===o},Io=t=>{if(!t)return null;if(Oe(t))return t;let s=t.length;if(!ds(s))return null;const o=new Array(s);for(;s-- >0;)o[s]=t[s];return o},Oo=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&gt(Uint8Array)),Ro=(t,s)=>{const e=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=e.next())&&!r.done;){const l=r.value;s.call(t,l[0],l[1])}},Ao=(t,s)=>{let o;const e=[];for(;(o=t.exec(s))!==null;)e.push(o);return e},yo=te("HTMLFormElement"),Co=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,e,r){return e.toUpperCase()+r}),Bt=(({hasOwnProperty:t})=>(s,o)=>t.call(s,o))(Object.prototype),Lo=te("RegExp"),_s=(t,s)=>{const o=Object.getOwnPropertyDescriptors(t),e={};ke(o,(r,l)=>{let a;(a=s(r,l,t))!==!1&&(e[l]=a||r)}),Object.defineProperties(t,e)},No=t=>{_s(t,(s,o)=>{if(j(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const e=t[o];if(j(e)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},ko=(t,s)=>{const o={},e=r=>{r.forEach(l=>{o[l]=!0})};return Oe(t)?e(t):e(String(t).split(s)),o},Mo=()=>{},xo=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s,tt="abcdefghijklmnopqrstuvwxyz",Pt="0123456789",ms={DIGIT:Pt,ALPHA:tt,ALPHA_DIGIT:tt+tt.toUpperCase()+Pt},Bo=(t=16,s=ms.ALPHA_DIGIT)=>{let o="";const{length:e}=s;for(;t--;)o+=s[Math.random()*e|0];return o};function Po(t){return!!(t&&j(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const wo=t=>{const s=new Array(10),o=(e,r)=>{if(Xe(e)){if(s.indexOf(e)>=0)return;if(!("toJSON"in e)){s[r]=e;const l=Oe(e)?[]:{};return ke(e,(a,c)=>{const m=o(a,r+1);!Le(m)&&(l[c]=m)}),s[r]=void 0,l}}return e};return o(t,0)},Do=te("AsyncFunction"),vo=t=>t&&(Xe(t)||j(t))&&j(t.then)&&j(t.catch),Ts=((t,s)=>t?setImmediate:s?((o,e)=>($e.addEventListener("message",({source:r,data:l})=>{r===$e&&l===o&&e.length&&e.shift()()},!1),r=>{e.push(r),$e.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",j($e.postMessage)),Fo=typeof queueMicrotask<"u"?queueMicrotask.bind($e):typeof process<"u"&&process.nextTick||Ts,_={isArray:Oe,isArrayBuffer:us,isBuffer:to,isFormData:uo,isArrayBufferView:so,isString:no,isNumber:ds,isBoolean:oo,isObject:Xe,isPlainObject:we,isReadableStream:$o,isRequest:_o,isResponse:mo,isHeaders:To,isUndefined:Le,isDate:ro,isFile:io,isBlob:lo,isRegExp:Lo,isFunction:j,isStream:co,isURLSearchParams:po,isTypedArray:Oo,isFileList:ao,forEach:ke,merge:at,extend:go,trim:ho,stripBOM:Eo,inherits:fo,toFlatObject:bo,kindOf:Ye,kindOfTest:te,endsWith:So,toArray:Io,forEachEntry:Ro,matchAll:Ao,isHTMLForm:yo,hasOwnProperty:Bt,hasOwnProp:Bt,reduceDescriptors:_s,freezeMethods:No,toObjectSet:ko,toCamelCase:Co,noop:Mo,toFiniteNumber:xo,findKey:ps,global:$e,isContextDefined:$s,ALPHABET:ms,generateString:Bo,isSpecCompliantForm:Po,toJSONObject:wo,isAsyncFn:Do,isThenable:vo,setImmediate:Ts,asap:Fo};function y(t,s,o,e,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),e&&(this.request=e),r&&(this.response=r,this.status=r.status?r.status:null)}_.inherits(y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const hs=y.prototype,gs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gs[t]={value:t}});Object.defineProperties(y,gs);Object.defineProperty(hs,"isAxiosError",{value:!0});y.from=(t,s,o,e,r,l)=>{const a=Object.create(hs);return _.toFlatObject(t,a,function(m){return m!==Error.prototype},c=>c!=="isAxiosError"),y.call(a,t.message,s,o,e,r),a.cause=t,a.name=t.name,l&&Object.assign(a,l),a};const Uo=null;function ct(t){return _.isPlainObject(t)||_.isArray(t)}function Es(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function wt(t,s,o){return t?t.concat(s).map(function(r,l){return r=Es(r),!o&&l?"["+r+"]":r}).join(o?".":""):s}function Ho(t){return _.isArray(t)&&!t.some(ct)}const Vo=_.toFlatObject(_,{},null,function(s){return/^is[A-Z]/.test(s)});function je(t,s,o){if(!_.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,o=_.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,E){return!_.isUndefined(E[S])});const e=o.metaTokens,r=o.visitor||p,l=o.dots,a=o.indexes,m=(o.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(s);if(!_.isFunction(r))throw new TypeError("visitor must be a function");function $(h){if(h===null)return"";if(_.isDate(h))return h.toISOString();if(!m&&_.isBlob(h))throw new y("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(h)||_.isTypedArray(h)?m&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function p(h,S,E){let C=h;if(h&&!E&&typeof h=="object"){if(_.endsWith(S,"{}"))S=e?S:S.slice(0,-2),h=JSON.stringify(h);else if(_.isArray(h)&&Ho(h)||(_.isFileList(h)||_.endsWith(S,"[]"))&&(C=_.toArray(h)))return S=Es(S),C.forEach(function(N,v){!(_.isUndefined(N)||N===null)&&s.append(a===!0?wt([S],v,l):a===null?S:S+"[]",$(N))}),!1}return ct(h)?!0:(s.append(wt(E,S,l),$(h)),!1)}const T=[],b=Object.assign(Vo,{defaultVisitor:p,convertValue:$,isVisitable:ct});function O(h,S){if(!_.isUndefined(h)){if(T.indexOf(h)!==-1)throw Error("Circular reference detected in "+S.join("."));T.push(h),_.forEach(h,function(C,A){(!(_.isUndefined(C)||C===null)&&r.call(s,C,_.isString(A)?A.trim():A,S,b))===!0&&O(C,S?S.concat(A):[A])}),T.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return O(t),s}function Dt(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(e){return s[e]})}function Et(t,s){this._pairs=[],t&&je(t,this,s)}const fs=Et.prototype;fs.append=function(s,o){this._pairs.push([s,o])};fs.toString=function(s){const o=s?function(e){return s.call(this,e,Dt)}:Dt;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function Go(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bs(t,s,o){if(!s)return t;const e=o&&o.encode||Go,r=o&&o.serialize;let l;if(r?l=r(s,o):l=_.isURLSearchParams(s)?s.toString():new Et(s,o).toString(e),l){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class vt{constructor(){this.handlers=[]}use(s,o,e){return this.handlers.push({fulfilled:s,rejected:o,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){_.forEach(this.handlers,function(e){e!==null&&s(e)})}}const Ss={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yo=typeof URLSearchParams<"u"?URLSearchParams:Et,Ko=typeof FormData<"u"?FormData:null,Xo=typeof Blob<"u"?Blob:null,jo={isBrowser:!0,classes:{URLSearchParams:Yo,FormData:Ko,Blob:Xo},protocols:["http","https","file","blob","url","data"]},ft=typeof window<"u"&&typeof document<"u",ut=typeof navigator=="object"&&navigator||void 0,Wo=ft&&(!ut||["ReactNative","NativeScript","NS"].indexOf(ut.product)<0),qo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jo=ft&&window.location.href||"http://localhost",zo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ft,hasStandardBrowserEnv:Wo,hasStandardBrowserWebWorkerEnv:qo,navigator:ut,origin:Jo},Symbol.toStringTag,{value:"Module"})),G={...zo,...jo};function Qo(t,s){return je(t,new G.classes.URLSearchParams,Object.assign({visitor:function(o,e,r,l){return G.isNode&&_.isBuffer(o)?(this.append(e,o.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},s))}function Zo(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function er(t){const s={},o=Object.keys(t);let e;const r=o.length;let l;for(e=0;e<r;e++)l=o[e],s[l]=t[l];return s}function Is(t){function s(o,e,r,l){let a=o[l++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),m=l>=o.length;return a=!a&&_.isArray(r)?r.length:a,m?(_.hasOwnProp(r,a)?r[a]=[r[a],e]:r[a]=e,!c):((!r[a]||!_.isObject(r[a]))&&(r[a]=[]),s(o,e,r[a],l)&&_.isArray(r[a])&&(r[a]=er(r[a])),!c)}if(_.isFormData(t)&&_.isFunction(t.entries)){const o={};return _.forEachEntry(t,(e,r)=>{s(Zo(e),r,o,0)}),o}return null}function tr(t,s,o){if(_.isString(t))try{return(s||JSON.parse)(t),_.trim(t)}catch(e){if(e.name!=="SyntaxError")throw e}return(0,JSON.stringify)(t)}const Me={transitional:Ss,adapter:["xhr","http","fetch"],transformRequest:[function(s,o){const e=o.getContentType()||"",r=e.indexOf("application/json")>-1,l=_.isObject(s);if(l&&_.isHTMLForm(s)&&(s=new FormData(s)),_.isFormData(s))return r?JSON.stringify(Is(s)):s;if(_.isArrayBuffer(s)||_.isBuffer(s)||_.isStream(s)||_.isFile(s)||_.isBlob(s)||_.isReadableStream(s))return s;if(_.isArrayBufferView(s))return s.buffer;if(_.isURLSearchParams(s))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let c;if(l){if(e.indexOf("application/x-www-form-urlencoded")>-1)return Qo(s,this.formSerializer).toString();if((c=_.isFileList(s))||e.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return je(c?{"files[]":s}:s,m&&new m,this.formSerializer)}}return l||r?(o.setContentType("application/json",!1),tr(s)):s}],transformResponse:[function(s){const o=this.transitional||Me.transitional,e=o&&o.forcedJSONParsing,r=this.responseType==="json";if(_.isResponse(s)||_.isReadableStream(s))return s;if(s&&_.isString(s)&&(e&&!this.responseType||r)){const a=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(s)}catch(c){if(a)throw c.name==="SyntaxError"?y.from(c,y.ERR_BAD_RESPONSE,this,null,this.response):c}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:G.classes.FormData,Blob:G.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{Me.headers[t]={}});const sr=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nr=t=>{const s={};let o,e,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),o=a.substring(0,r).trim().toLowerCase(),e=a.substring(r+1).trim(),!(!o||s[o]&&sr[o])&&(o==="set-cookie"?s[o]?s[o].push(e):s[o]=[e]:s[o]=s[o]?s[o]+", "+e:e)}),s},Ft=Symbol("internals");function ye(t){return t&&String(t).trim().toLowerCase()}function De(t){return t===!1||t==null?t:_.isArray(t)?t.map(De):String(t)}function or(t){const s=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=o.exec(t);)s[e[1]]=e[2];return s}const rr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function st(t,s,o,e,r){if(_.isFunction(e))return e.call(this,s,o);if(r&&(s=o),!!_.isString(s)){if(_.isString(e))return s.indexOf(e)!==-1;if(_.isRegExp(e))return e.test(s)}}function ir(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,o,e)=>o.toUpperCase()+e)}function lr(t,s){const o=_.toCamelCase(" "+s);["get","set","has"].forEach(e=>{Object.defineProperty(t,e+o,{value:function(r,l,a){return this[e].call(this,s,r,l,a)},configurable:!0})})}class Y{constructor(s){s&&this.set(s)}set(s,o,e){const r=this;function l(c,m,$){const p=ye(m);if(!p)throw new Error("header name must be a non-empty string");const T=_.findKey(r,p);(!T||r[T]===void 0||$===!0||$===void 0&&r[T]!==!1)&&(r[T||m]=De(c))}const a=(c,m)=>_.forEach(c,($,p)=>l($,p,m));if(_.isPlainObject(s)||s instanceof this.constructor)a(s,o);else if(_.isString(s)&&(s=s.trim())&&!rr(s))a(nr(s),o);else if(_.isHeaders(s))for(const[c,m]of s.entries())l(m,c,e);else s!=null&&l(o,s,e);return this}get(s,o){if(s=ye(s),s){const e=_.findKey(this,s);if(e){const r=this[e];if(!o)return r;if(o===!0)return or(r);if(_.isFunction(o))return o.call(this,r,e);if(_.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,o){if(s=ye(s),s){const e=_.findKey(this,s);return!!(e&&this[e]!==void 0&&(!o||st(this,this[e],e,o)))}return!1}delete(s,o){const e=this;let r=!1;function l(a){if(a=ye(a),a){const c=_.findKey(e,a);c&&(!o||st(e,e[c],c,o))&&(delete e[c],r=!0)}}return _.isArray(s)?s.forEach(l):l(s),r}clear(s){const o=Object.keys(this);let e=o.length,r=!1;for(;e--;){const l=o[e];(!s||st(this,this[l],l,s,!0))&&(delete this[l],r=!0)}return r}normalize(s){const o=this,e={};return _.forEach(this,(r,l)=>{const a=_.findKey(e,l);if(a){o[a]=De(r),delete o[l];return}const c=s?ir(l):String(l).trim();c!==l&&delete o[l],o[c]=De(r),e[c]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const o=Object.create(null);return _.forEach(this,(e,r)=>{e!=null&&e!==!1&&(o[r]=s&&_.isArray(e)?e.join(", "):e)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,o])=>s+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...o){const e=new this(s);return o.forEach(r=>e.set(r)),e}static accessor(s){const e=(this[Ft]=this[Ft]={accessors:{}}).accessors,r=this.prototype;function l(a){const c=ye(a);e[c]||(lr(r,a),e[c]=!0)}return _.isArray(s)?s.forEach(l):l(s),this}}Y.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Y.prototype,({value:t},s)=>{let o=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(e){this[o]=e}}});_.freezeMethods(Y);function nt(t,s){const o=this||Me,e=s||o,r=Y.from(e.headers);let l=e.data;return _.forEach(t,function(c){l=c.call(o,l,r.normalize(),s?s.status:void 0)}),r.normalize(),l}function Os(t){return!!(t&&t.__CANCEL__)}function Re(t,s,o){y.call(this,t??"canceled",y.ERR_CANCELED,s,o),this.name="CanceledError"}_.inherits(Re,y,{__CANCEL__:!0});function Rs(t,s,o){const e=o.config.validateStatus;!o.status||!e||e(o.status)?t(o):s(new y("Request failed with status code "+o.status,[y.ERR_BAD_REQUEST,y.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function ar(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function cr(t,s){t=t||10;const o=new Array(t),e=new Array(t);let r=0,l=0,a;return s=s!==void 0?s:1e3,function(m){const $=Date.now(),p=e[l];a||(a=$),o[r]=m,e[r]=$;let T=l,b=0;for(;T!==r;)b+=o[T++],T=T%t;if(r=(r+1)%t,r===l&&(l=(l+1)%t),$-a<s)return;const O=p&&$-p;return O?Math.round(b*1e3/O):void 0}}function ur(t,s){let o=0,e=1e3/s,r,l;const a=($,p=Date.now())=>{o=p,r=null,l&&(clearTimeout(l),l=null),t.apply(null,$)};return[(...$)=>{const p=Date.now(),T=p-o;T>=e?a($,p):(r=$,l||(l=setTimeout(()=>{l=null,a(r)},e-T)))},()=>r&&a(r)]}const Fe=(t,s,o=3)=>{let e=0;const r=cr(50,250);return ur(l=>{const a=l.loaded,c=l.lengthComputable?l.total:void 0,m=a-e,$=r(m),p=a<=c;e=a;const T={loaded:a,total:c,progress:c?a/c:void 0,bytes:m,rate:$||void 0,estimated:$&&c&&p?(c-a)/$:void 0,event:l,lengthComputable:c!=null,[s?"download":"upload"]:!0};t(T)},o)},Ut=(t,s)=>{const o=t!=null;return[e=>s[0]({lengthComputable:o,total:t,loaded:e}),s[1]]},Ht=t=>(...s)=>_.asap(()=>t(...s)),dr=G.hasStandardBrowserEnv?function(){const s=G.navigator&&/(msie|trident)/i.test(G.navigator.userAgent),o=document.createElement("a");let e;function r(l){let a=l;return s&&(o.setAttribute("href",a),a=o.href),o.setAttribute("href",a),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return e=r(window.location.href),function(a){const c=_.isString(a)?r(a):a;return c.protocol===e.protocol&&c.host===e.host}}():function(){return function(){return!0}}(),pr=G.hasStandardBrowserEnv?{write(t,s,o,e,r,l){const a=[t+"="+encodeURIComponent(s)];_.isNumber(o)&&a.push("expires="+new Date(o).toGMTString()),_.isString(e)&&a.push("path="+e),_.isString(r)&&a.push("domain="+r),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $r(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _r(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function As(t,s){return t&&!$r(s)?_r(t,s):s}const Vt=t=>t instanceof Y?{...t}:t;function Te(t,s){s=s||{};const o={};function e($,p,T){return _.isPlainObject($)&&_.isPlainObject(p)?_.merge.call({caseless:T},$,p):_.isPlainObject(p)?_.merge({},p):_.isArray(p)?p.slice():p}function r($,p,T){if(_.isUndefined(p)){if(!_.isUndefined($))return e(void 0,$,T)}else return e($,p,T)}function l($,p){if(!_.isUndefined(p))return e(void 0,p)}function a($,p){if(_.isUndefined(p)){if(!_.isUndefined($))return e(void 0,$)}else return e(void 0,p)}function c($,p,T){if(T in s)return e($,p);if(T in t)return e(void 0,$)}const m={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:($,p)=>r(Vt($),Vt(p),!0)};return _.forEach(Object.keys(Object.assign({},t,s)),function(p){const T=m[p]||r,b=T(t[p],s[p],p);_.isUndefined(b)&&T!==c||(o[p]=b)}),o}const ys=t=>{const s=Te({},t);let{data:o,withXSRFToken:e,xsrfHeaderName:r,xsrfCookieName:l,headers:a,auth:c}=s;s.headers=a=Y.from(a),s.url=bs(As(s.baseURL,s.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let m;if(_.isFormData(o)){if(G.hasStandardBrowserEnv||G.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((m=a.getContentType())!==!1){const[$,...p]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];a.setContentType([$||"multipart/form-data",...p].join("; "))}}if(G.hasStandardBrowserEnv&&(e&&_.isFunction(e)&&(e=e(s)),e||e!==!1&&dr(s.url))){const $=r&&l&&pr.read(l);$&&a.set(r,$)}return s},mr=typeof XMLHttpRequest<"u",Tr=mr&&function(t){return new Promise(function(o,e){const r=ys(t);let l=r.data;const a=Y.from(r.headers).normalize();let{responseType:c,onUploadProgress:m,onDownloadProgress:$}=r,p,T,b,O,h;function S(){O&&O(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function C(){if(!E)return;const N=Y.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),x={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:N,config:t,request:E};Rs(function(k){o(k),S()},function(k){e(k),S()},x),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(e(new y("Request aborted",y.ECONNABORTED,t,E)),E=null)},E.onerror=function(){e(new y("Network Error",y.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let v=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const x=r.transitional||Ss;r.timeoutErrorMessage&&(v=r.timeoutErrorMessage),e(new y(v,x.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,t,E)),E=null},l===void 0&&a.setContentType(null),"setRequestHeader"in E&&_.forEach(a.toJSON(),function(v,x){E.setRequestHeader(x,v)}),_.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),c&&c!=="json"&&(E.responseType=r.responseType),$&&([b,h]=Fe($,!0),E.addEventListener("progress",b)),m&&E.upload&&([T,O]=Fe(m),E.upload.addEventListener("progress",T),E.upload.addEventListener("loadend",O)),(r.cancelToken||r.signal)&&(p=N=>{E&&(e(!N||N.type?new Re(null,t,E):N),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const A=ar(r.url);if(A&&G.protocols.indexOf(A)===-1){e(new y("Unsupported protocol "+A+":",y.ERR_BAD_REQUEST,t));return}E.send(l||null)})},hr=(t,s)=>{const{length:o}=t=t?t.filter(Boolean):[];if(s||o){let e=new AbortController,r;const l=function($){if(!r){r=!0,c();const p=$ instanceof Error?$:this.reason;e.abort(p instanceof y?p:new Re(p instanceof Error?p.message:p))}};let a=s&&setTimeout(()=>{a=null,l(new y(`timeout ${s} of ms exceeded`,y.ETIMEDOUT))},s);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach($=>{$.unsubscribe?$.unsubscribe(l):$.removeEventListener("abort",l)}),t=null)};t.forEach($=>$.addEventListener("abort",l));const{signal:m}=e;return m.unsubscribe=()=>_.asap(c),m}},gr=function*(t,s){let o=t.byteLength;if(o<s){yield t;return}let e=0,r;for(;e<o;)r=e+s,yield t.slice(e,r),e=r},Er=async function*(t,s){for await(const o of fr(t))yield*gr(o,s)},fr=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:o,value:e}=await s.read();if(o)break;yield e}}finally{await s.cancel()}},Gt=(t,s,o,e)=>{const r=Er(t,s);let l=0,a,c=m=>{a||(a=!0,e&&e(m))};return new ReadableStream({async pull(m){try{const{done:$,value:p}=await r.next();if($){c(),m.close();return}let T=p.byteLength;if(o){let b=l+=T;o(b)}m.enqueue(new Uint8Array(p))}catch($){throw c($),$}},cancel(m){return c(m),r.return()}},{highWaterMark:2})},We=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cs=We&&typeof ReadableStream=="function",br=We&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ls=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Sr=Cs&&Ls(()=>{let t=!1;const s=new Request(G.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),Yt=64*1024,dt=Cs&&Ls(()=>_.isReadableStream(new Response("").body)),Ue={stream:dt&&(t=>t.body)};We&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Ue[s]&&(Ue[s]=_.isFunction(t[s])?o=>o[s]():(o,e)=>{throw new y(`Response type '${s}' is not supported`,y.ERR_NOT_SUPPORT,e)})})})(new Response);const Ir=async t=>{if(t==null)return 0;if(_.isBlob(t))return t.size;if(_.isSpecCompliantForm(t))return(await new Request(G.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_.isArrayBufferView(t)||_.isArrayBuffer(t))return t.byteLength;if(_.isURLSearchParams(t)&&(t=t+""),_.isString(t))return(await br(t)).byteLength},Or=async(t,s)=>{const o=_.toFiniteNumber(t.getContentLength());return o??Ir(s)},Rr=We&&(async t=>{let{url:s,method:o,data:e,signal:r,cancelToken:l,timeout:a,onDownloadProgress:c,onUploadProgress:m,responseType:$,headers:p,withCredentials:T="same-origin",fetchOptions:b}=ys(t);$=$?($+"").toLowerCase():"text";let O=hr([r,l&&l.toAbortSignal()],a),h;const S=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let E;try{if(m&&Sr&&o!=="get"&&o!=="head"&&(E=await Or(p,e))!==0){let x=new Request(s,{method:"POST",body:e,duplex:"half"}),K;if(_.isFormData(e)&&(K=x.headers.get("content-type"))&&p.setContentType(K),x.body){const[k,H]=Ut(E,Fe(Ht(m)));e=Gt(x.body,Yt,k,H)}}_.isString(T)||(T=T?"include":"omit");const C="credentials"in Request.prototype;h=new Request(s,{...b,signal:O,method:o.toUpperCase(),headers:p.normalize().toJSON(),body:e,duplex:"half",credentials:C?T:void 0});let A=await fetch(h);const N=dt&&($==="stream"||$==="response");if(dt&&(c||N&&S)){const x={};["status","statusText","headers"].forEach(pe=>{x[pe]=A[pe]});const K=_.toFiniteNumber(A.headers.get("content-length")),[k,H]=c&&Ut(K,Fe(Ht(c),!0))||[];A=new Response(Gt(A.body,Yt,k,()=>{H&&H(),S&&S()}),x)}$=$||"text";let v=await Ue[_.findKey(Ue,$)||"text"](A,t);return!N&&S&&S(),await new Promise((x,K)=>{Rs(x,K,{data:v,headers:Y.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:h})})}catch(C){throw S&&S(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new y("Network Error",y.ERR_NETWORK,t,h),{cause:C.cause||C}):y.from(C,C&&C.code,t,h)}}),pt={http:Uo,xhr:Tr,fetch:Rr};_.forEach(pt,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Kt=t=>`- ${t}`,Ar=t=>_.isFunction(t)||t===null||t===!1,Ns={getAdapter:t=>{t=_.isArray(t)?t:[t];const{length:s}=t;let o,e;const r={};for(let l=0;l<s;l++){o=t[l];let a;if(e=o,!Ar(o)&&(e=pt[(a=String(o)).toLowerCase()],e===void 0))throw new y(`Unknown adapter '${a}'`);if(e)break;r[a||"#"+l]=e}if(!e){const l=Object.entries(r).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let a=s?l.length>1?`since :
`+l.map(Kt).join(`
`):" "+Kt(l[0]):"as no adapter specified";throw new y("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return e},adapters:pt};function ot(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Re(null,t)}function Xt(t){return ot(t),t.headers=Y.from(t.headers),t.data=nt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ns.getAdapter(t.adapter||Me.adapter)(t).then(function(e){return ot(t),e.data=nt.call(t,t.transformResponse,e),e.headers=Y.from(e.headers),e},function(e){return Os(e)||(ot(t),e&&e.response&&(e.response.data=nt.call(t,t.transformResponse,e.response),e.response.headers=Y.from(e.response.headers))),Promise.reject(e)})}const ks="1.7.7",bt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{bt[t]=function(e){return typeof e===t||"a"+(s<1?"n ":" ")+t}});const jt={};bt.transitional=function(s,o,e){function r(l,a){return"[Axios v"+ks+"] Transitional option '"+l+"'"+a+(e?". "+e:"")}return(l,a,c)=>{if(s===!1)throw new y(r(a," has been removed"+(o?" in "+o:"")),y.ERR_DEPRECATED);return o&&!jt[a]&&(jt[a]=!0,console.warn(r(a," has been deprecated since v"+o+" and will be removed in the near future"))),s?s(l,a,c):!0}};function yr(t,s,o){if(typeof t!="object")throw new y("options must be an object",y.ERR_BAD_OPTION_VALUE);const e=Object.keys(t);let r=e.length;for(;r-- >0;){const l=e[r],a=s[l];if(a){const c=t[l],m=c===void 0||a(c,l,t);if(m!==!0)throw new y("option "+l+" must be "+m,y.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new y("Unknown option "+l,y.ERR_BAD_OPTION)}}const $t={assertOptions:yr,validators:bt},le=$t.validators;class me{constructor(s){this.defaults=s,this.interceptors={request:new vt,response:new vt}}async request(s,o){try{return await this._request(s,o)}catch(e){if(e instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.stack?l&&!String(e.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(e.stack+=`
`+l):e.stack=l}catch{}}throw e}}_request(s,o){typeof s=="string"?(o=o||{},o.url=s):o=s||{},o=Te(this.defaults,o);const{transitional:e,paramsSerializer:r,headers:l}=o;e!==void 0&&$t.assertOptions(e,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),r!=null&&(_.isFunction(r)?o.paramsSerializer={serialize:r}:$t.assertOptions(r,{encode:le.function,serialize:le.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let a=l&&_.merge(l.common,l[o.method]);l&&_.forEach(["delete","get","head","post","put","patch","common"],h=>{delete l[h]}),o.headers=Y.concat(a,l);const c=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(o)===!1||(m=m&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const $=[];this.interceptors.response.forEach(function(S){$.push(S.fulfilled,S.rejected)});let p,T=0,b;if(!m){const h=[Xt.bind(this),void 0];for(h.unshift.apply(h,c),h.push.apply(h,$),b=h.length,p=Promise.resolve(o);T<b;)p=p.then(h[T++],h[T++]);return p}b=c.length;let O=o;for(T=0;T<b;){const h=c[T++],S=c[T++];try{O=h(O)}catch(E){S.call(this,E);break}}try{p=Xt.call(this,O)}catch(h){return Promise.reject(h)}for(T=0,b=$.length;T<b;)p=p.then($[T++],$[T++]);return p}getUri(s){s=Te(this.defaults,s);const o=As(s.baseURL,s.url);return bs(o,s.params,s.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(s){me.prototype[s]=function(o,e){return this.request(Te(e||{},{method:s,url:o,data:(e||{}).data}))}});_.forEach(["post","put","patch"],function(s){function o(e){return function(l,a,c){return this.request(Te(c||{},{method:s,headers:e?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}me.prototype[s]=o(),me.prototype[s+"Form"]=o(!0)});class St{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(l){o=l});const e=this;this.promise.then(r=>{if(!e._listeners)return;let l=e._listeners.length;for(;l-- >0;)e._listeners[l](r);e._listeners=null}),this.promise.then=r=>{let l;const a=new Promise(c=>{e.subscribe(c),l=c}).then(r);return a.cancel=function(){e.unsubscribe(l)},a},s(function(l,a,c){e.reason||(e.reason=new Re(l,a,c),o(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const o=this._listeners.indexOf(s);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const s=new AbortController,o=e=>{s.abort(e)};return this.subscribe(o),s.signal.unsubscribe=()=>this.unsubscribe(o),s.signal}static source(){let s;return{token:new St(function(r){s=r}),cancel:s}}}function Cr(t){return function(o){return t.apply(null,o)}}function Lr(t){return _.isObject(t)&&t.isAxiosError===!0}const _t={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_t).forEach(([t,s])=>{_t[s]=t});function Ms(t){const s=new me(t),o=cs(me.prototype.request,s);return _.extend(o,me.prototype,s,{allOwnKeys:!0}),_.extend(o,s,null,{allOwnKeys:!0}),o.create=function(r){return Ms(Te(t,r))},o}const B=Ms(Me);B.Axios=me;B.CanceledError=Re;B.CancelToken=St;B.isCancel=Os;B.VERSION=ks;B.toFormData=je;B.AxiosError=y;B.Cancel=B.CanceledError;B.all=function(s){return Promise.all(s)};B.spread=Cr;B.isAxiosError=Lr;B.mergeConfig=Te;B.AxiosHeaders=Y;B.formToJSON=t=>Is(_.isHTMLForm(t)?new FormData(t):t);B.getAdapter=Ns.getAdapter;B.HttpStatusCode=_t;B.default=B;const ae=B.create({baseURL:"http://localhost:3000",timeout:5e3,headers:{"Content-Type":"application/json"}}),Ae=()=>({createWorkspace:async(m,$=!1)=>(await ae.post("/workspace",{userId:m},{headers:{"user-id":m,sample:$}})).data,getWorkspaceList:async(m,$)=>(await ae.get(`/workspace/list${$!=="null"?`?cursor=${encodeURIComponent($)}`:""}`,{headers:{"user-id":m}})).data,getWorkspace:async(m,$)=>(await ae.get(`/workspace?workspaceId=${$}`,{headers:{"user-id":m}})).data,updateWorkspaceName:async(m,$,p)=>(await ae.patch("/workspace/name",{workspaceId:$,newName:p},{headers:{"user-id":m}})).data,deleteWorkspace:async(m,$)=>{await ae.delete(`/workspace?workspaceId=${$}`,{headers:{"user-id":m}})},saveWorkspace:async(m,$,p,T,b,O,h,S)=>{const E=new FormData;E.append("workspaceId",$),E.append("totalCssPropertyObj",JSON.stringify(p)),E.append("canvas",JSON.stringify(T)),E.append("classBlockList",JSON.stringify(b)),E.append("cssResetStatus",O.toString()),E.append("thumbnail",h);const C=Object.fromEntries(S);E.append("imageMap",JSON.stringify(C)),await ae.patch("/workspace",E,{headers:{"user-id":m,"Content-Type":"multipart/form-data"}})},postImage:async(m,$,p,T)=>{const b=new FormData;return b.append("workspaceId",$),b.append("imageName",p),b.append("image",T),(await ae.post("/workspace/image",b,{headers:{"user-id":m,"Content-Type":"multipart/form-data"}})).data},deleteImage:async(m,$,p)=>(await ae.delete(`/workspace/image?workspaceId=${encodeURIComponent($)}&imageName=${encodeURIComponent(p)}`,{headers:{"user-id":m}})).data}),It=(t=!1)=>{const s=Ae(),o=kn(),e=mt(a=>a.setIsPending),r=Ne(),{mutate:l}=Ie({mutationFn:()=>{e(!0);const a=Se()||Ge();return s.createWorkspace(a,t)},onSuccess:a=>{r.invalidateQueries({queryKey:fe.list()}),t||o(`/workspace/${a.newWorkspaceId}`)},onError:()=>{w.error("워크스페이스 생성 실패")},onSettled:()=>{e(!1)}});return{mutate:l}},Nr={containerCategory:{colour:"FF3A61"},textCategory:{colour:"FFD900"},formCategory:{colour:"FF9821"},tableCategory:{colour:"B223F5"},listCategory:{colour:"3E84FF"},linkCategory:{colour:"3ED5FF"},etcCategory:{colour:"00AF6F"}},ne={kind:"categoryToolbox",contents:[]},Wt=Q.dom,kr=Q.Svg;class pc extends Vn{constructor(o,e,r){super(o,e,r);z(this,"backgroundRect_");z(this,"width",0);this.value_===""&&this.setValue("사진을 넣어주세요")}createTextElement_(){this.textElement_=Wt.createSvgElement(kr.TEXT,{class:"blocklyText",x:0,y:0,"dominant-baseline":"central",fill:"#1E272E"},this.fieldGroup_),this.textElement_.style.fontSize="10pt",this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}initView(){if(super.initView(),this.fieldGroup_){this.fieldGroup_.addEventListener("click",this.onClick_.bind(this));const o=this.fieldGroup_.querySelector(".blocklyFieldRect");o&&(this.fieldGroup_.onmouseenter=()=>{o.style.fill="#E2EDFF"},this.fieldGroup_.onmouseleave=()=>{o.style.fill="#fff"})}}onClick_(){var o;_e.getState().setIsModalOpen(!0),_e.getState().setNowId((o=this.getSourceBlock())==null?void 0:o.id),_e.getState().setNowImage(this.value_==="사진을 넣어주세요"?"":this.value_)}updateWidth(o){this.width=o,this.render_()}updateSize_(o){const e=this.getConstants(),r=o!==void 0?o:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let l=r*2,a=e.FIELD_TEXT_HEIGHT;this.width=Math.max(e.EMPTY_INLINE_INPUT_PADDING+8,this.width);let c=0;this.textElement_&&(c=Wt.getFastTextWidth(this.textElement_,10,e.FIELD_TEXT_FONTWEIGHT,e.FIELD_TEXT_FONTFAMILY),l+=c),this.isFullBlockField()||(a=Math.max(a,e.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=a,this.size_.width=Math.max(l,this.width),this.positionTextElement_(r,c),this.positionBorderRect_()}}const Mr=Q.dom;class $c extends Yn{constructor(){super(...arguments);z(this,"width",0)}updateWidth(o){this.width=o,this.render_()}updateSize_(o){const e=this.getConstants(),r=o!==void 0?o:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let l=r*2,a=e.FIELD_TEXT_HEIGHT;this.width=Math.max(e.EMPTY_INLINE_INPUT_PADDING+8,this.width);let c=0;this.textElement_&&(c=Mr.getFastTextWidth(this.textElement_,e.FIELD_TEXT_FONTSIZE,e.FIELD_TEXT_FONTWEIGHT,e.FIELD_TEXT_FONTFAMILY),l+=c),this.isFullBlockField()||(a=Math.max(a,e.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=a,this.size_.width=Math.max(l,this.width),this.positionTextElement_(r,c),this.positionBorderRect_()}}const xr=Q.dom,Br=Q.Svg;class _c extends ls{createTextElement_(){this.textElement_=xr.createSvgElement(Br.TEXT,{class:"blocklyText",x:0,y:0,"dominant-baseline":"central"},this.fieldGroup_),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}render_(){super.render_();const s=this.textElement_.getBBox();this.textElement_&&(this.textElement_.setAttribute("x",(s.x+6).toString()),this.textElement_.setAttribute("y",(s.y+9).toString()),this.textElement_.style.fill="#1E272E")}}const qt=Q.dom,Jt=Q.Svg;class mc extends ls{constructor(){super(...arguments);z(this,"backgroundRect_")}createTextElement_(){this.backgroundRect_=qt.createSvgElement(Jt.RECT,{class:"blocklyTextBackground",x:0,y:0,rx:10,ry:10,fill:"#1E272E",stroke:"none"},this.fieldGroup_),this.textElement_=qt.createSvgElement(Jt.TEXT,{class:"blocklyText",x:0,y:0,"dominant-baseline":"central"},this.fieldGroup_),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}render_(){var e,r;super.render_();const o=this.textElement_.getBBox();this.backgroundRect_.setAttribute("width",(o.width+12).toString()),this.backgroundRect_.setAttribute("height",(o.height+4).toString()),this.backgroundRect_.setAttribute("x",(o.x+6).toString()),this.backgroundRect_.setAttribute("y",(o.y-2).toString()),(e=this.textElement_)==null||e.setAttribute("x",(o.x+12).toString()),(r=this.textElement_)==null||r.setAttribute("y",(o.y+9).toString())}}const Pr=[{kind:"block",type:R("div"),description:`여러 내용을 담을 수 있는 상자예요.
레고 블록처럼 여러 개를 쌓을 수 있어요.`},{kind:"block",type:R("span"),description:`글자나 작은 내용을 감싸는 작은 상자예요.
문장 중간에 넣을 수 있어요.`},{kind:"block",type:R("header"),description:`웹페이지의 머리 부분이에요.
보통 로고나 메뉴가 들어가는 곳이에요.`},{kind:"block",type:R("section"),description:`비슷한 내용들을 모아두는 구역이에요.
책의 한 챕터같은 거예요.`},{kind:"block",type:R("nav"),description:"웹사이트에서 다른 페이지로 이동할 수 있는 메뉴가 있는 곳이에요."},{kind:"block",type:R("main"),description:`페이지에서 가장 중요한 내용이 들어가는 곳이에요.
책의 본문 같은 거예요.`},{kind:"block",type:R("article"),description:`하나의 완성된 이야기나 내용을 담는 곳이에요.
신문 기사처럼요.`},{kind:"block",type:R("footer"),description:`웹페이지의 맨 아래 부분이에요.
주소나 연락처 같은 정보가 들어가요.`}],wr=[{kind:"block",type:R("p"),description:`문단을 만드는 태그예요.
하나의 생각이나 이야기를 묶어서 쓸 때 사용해요.`},{kind:"block",type:R("strong"),description:"정말 중요한 내용을 굵은 글씨로 보여줄 때 사용해요."},{kind:"block",type:R("h1"),description:`가장 큰 제목을 쓸 때 사용해요.
책의 제목같은 거예요.`},{kind:"block",type:R("h2"),description:`두 번째로 큰 제목이에요.
책의 장(章) 제목 같은 거예요.`},{kind:"block",type:R("h3"),description:`세 번째로 큰 제목이에요.
책의 절(節) 제목 같은 거예요.`},{kind:"block",type:R("h4"),description:`네 번째로 큰 제목이에요.
작은 주제를 쓸 때 사용해요.`},{kind:"block",type:R("h5"),description:`다섯 번째로 큰 제목이에요.
아주 작은 주제를 쓸 때 사용해요.`},{kind:"block",type:R("h6"),description:`가장 작은 제목이에요.
제일 세세한 주제를 쓸 때 사용해요.`},{kind:"block",type:R("small"),description:`작은 글씨로 보여주고 싶을 때 사용해요.
부가 설명을 쓸 때 좋아요.`},{kind:"block",type:R("br"),description:`줄을 바꾸고 싶을 때 사용해요.
엔터 키를 누른 것처럼요.`},{kind:"block",type:R("em"),description:"글씨를 기울여서 강조하고 싶을 때 사용해요."},{kind:"block",type:R("i"),description:"글씨를 기울여 쓰고 싶을 때 사용해요."},{kind:"block",type:R("blockquote"),description:`다른 사람의 말을 인용할 때 사용해요.
책에서 따온 문장 같은 거예요.`},{kind:"block",type:R("hr"),description:"가로줄을 그어서 내용을 구분하고 싶을 때 사용해요."}],Dr=[{kind:"block",type:R("button"),description:`클릭할 수 있는 버튼이에요.
제출하기나 확인 같은 동작을 할 때 사용해요.`},{kind:"block",type:R("option"),description:`선택할 수 있는 항목 하나를 나타내요.
여러 가지 중에 고를 수 있어요.`},{kind:"block",type:R("textarea"),description:`긴 글을 쓸 수 있는 큰 입력창이에요.
게시글이나 댓글을 쓸 때 사용해요.`},{kind:"block",type:R("select"),description:`여러 개 중에서 하나를 선택할 수 있는 목록이에요.
드롭다운 메뉴같은 거예요.`}],vr=[{kind:"block",type:R("td"),description:`표의 칸 하나예요.
내용을 채워 넣을 수 있어요.`},{kind:"block",type:R("tr"),description:`표의 가로줄 하나예요.
여러 칸을 옆으로 나열할 수 있어요.`},{kind:"block",type:R("th"),description:`표의 제목 칸이에요.
각 항목이 무엇을 의미하는지 설명해요.`},{kind:"block",type:R("caption"),description:`표의 제목이에요.
표가 어떤 내용인지 설명해줘요.`},{kind:"block",type:R("table"),description:`표를 만들 때 사용해요.
시간표나 성적표 같은 걸 만들 수 있어요.`}],Fr=[{kind:"block",type:R("ul"),description:`순서가 없는 목록을 만들어요.
점이나 동그라미로 항목을 구분해요.`},{kind:"block",type:R("ol"),description:`순서가 있는 목록을 만들어요.
1, 2, 3처럼 숫자로 항목을 구분해요.`},{kind:"block",type:R("li"),description:`목록의 각 항목이에요.
하나하나의 내용을 적을 수 있어요.`}],Ur=[{kind:"block",type:R("a"),description:`다른 페이지나 웹사이트로 이동하는 버튼이에요.
누르면 새로운 곳으로 가요.
target의 속성은 아래와 같습니다.
blank - 새로운 탭에서 열어요
parent - 현재 탭에서 열어요
top - 현재 탭에서 열어요`}],Hr=[{kind:"block",type:R("text"),description:`일반 글자를 보여주는 기본 텍스트예요.
특별한 꾸밈이 없는 평범한 글자랍니다.`},{kind:"block",type:R("img"),description:`사진이나 그림을 보여주는 태그예요.
여기에 사진 주소를 적으면 사진이 나와요`}],ce={container:Pr,text:wr,form:Dr,table:vr,list:Fr,link:Ur,etc:Hr},ee=new Kn("HTML"),Ot=t=>{ee.forBlock[t]=function(s){var m;const o=s.getInputTargetBlock("css class"),e=(o==null?void 0:o.getFieldValue("CLASS"))||"",r=ee.statementToCode(s,"children").trim(),l=s.id,a=Sn(t);let c="";if(a==="a"){const $=((m=s.getField("HREF"))==null?void 0:m.getValue())||"",p=s.getFieldValue("TARGET")||"";c=`<${a}${e?` class="${e}"`:""} href="${$}" target="${p}" data-block-id="${l}">`}else c=`<${a}${o&&e!==""?` class="${e}"`:""} data-block-id="${l}">`;return r?c+`
${r}
</${a}>`:c+`
</${a}>`}},Tc=t=>t.getTopBlocks(!0).filter(e=>e.getRootBlock().type===R("html")).map(e=>{try{return ee.blockToCode(e)||""}catch(r){return console.error(`블록 ${e.type} 처리 중 오류 발생:`,r),""}}).join(`
`),hc=t=>{let s=t.replace(/ data-block-id="[^"]*"/g,"");return s=s.replace(/<span[^>]*data-type="text-block"[^>]*>(.*?)<\/span>/g,"$1"),s};ee.forBlock[R("text")]=function(t){const s=t.getFieldValue("TEXT"),o=t.id,e=s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");return`<span data-block-id="${o}" data-type="text-block">${e}</span>`};ee.forBlock[R("css_style")]=function(t){return t.getFieldValue("CLASS")};ee.forBlock[R("head")]=function(t){return`<head data-block-id="${t.id}"> </head>`};ee.forBlock[R("hr")]=function(t){return`<hr data-block-id="${t.id}" />`};ee.forBlock[R("br")]=function(t){return`<br data-block-id="${t.id}" />`};ee.forBlock[R("img")]=function(t){let s="";const o=t.getInputTargetBlock("css class");o&&(s=o.getFieldValue("CLASS")||"");let e="";const r=t.getField("SRC");return r&&(e=r.getValue(),e=e==="사진을 넣어주세요"?"":e),`<img${o&&s!==""?` class="${s}"`:""} src="${e}" data-block-id="${t.id}" />`};ee.scrub_=function(t,s,o){if(t.getRootBlock().type!==R("html"))return"";const r=t.nextConnection&&t.nextConnection.targetBlock();return r&&!o?s+`
`+ee.blockToCode(r):s};Ot(R("html"));Ot(R("body"));Object.values(ce).forEach(t=>{t.forEach(s=>{s.type!==R("text")&&s.type!==R("hr")&&s.type!==R("br")&&s.type!==R("img")&&Ot(s.type)})});const Vr={kind:"categoryToolbox",contents:[{kind:"category",name:"컨테이너",categorystyle:"containerCategory",contents:ce.container},{kind:"category",name:"텍스트",categorystyle:"textCategory",contents:ce.text},{kind:"category",name:"폼",categorystyle:"formCategory",contents:ce.form},{kind:"category",name:"표",categorystyle:"tableCategory",contents:ce.table},{kind:"category",name:"리스트",categorystyle:"listCategory",contents:ce.list},{kind:"category",name:"링크",categorystyle:"linkCategory",contents:ce.link},{kind:"category",name:"내용",categorystyle:"etcCategory",contents:ce.etc}]};var xs={exports:{}};(function(t,s){(function(o,e){t.exports=e(In)})(gn,function(o){var e=o.__namespace__,r=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),l={customContextMenu:function(n){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(u={text:e.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:a(this)},d=this.getField("VAR").getText(),d={text:e.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",d),enabled:!0,callback:c(this)},n.unshift(u),n.unshift(d));else{if(this.type==="variables_get_dynamic")var i="variables_set_dynamic",u=e.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else i="variables_get_dynamic",u=e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField("VAR");i={type:i,fields:{VAR:d.saveState(!0)}},n.push({enabled:0<this.workspace.remainingCapacity(),text:u.replace("%1",d.getText()),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,i)})}},onchange:function(n){n=this.getFieldValue("VAR"),n=e.getVariable$$module$build$src$core$variables(this.workspace,n),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(n.type):this.getInput("VALUE").connection.setCheck(n.type)}},a=function(n){return function(){const i=n.workspace,u=n.getField("VAR").getVariable();e.renameVariable$$module$build$src$core$variables(i,u)}},c=function(n){return function(){const i=n.workspace,u=n.getField("VAR").getVariable();i.deleteVariableById(u.getId()),i.refreshToolboxSelection()}};e.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",l),e.defineBlocks$$module$build$src$core$common(r);var m={blocks:r},$=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),p={customContextMenu:function(n){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(u={text:e.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:T(this)},d=this.getField("VAR").getText(),d={text:e.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",d),enabled:!0,callback:b(this)},n.unshift(u),n.unshift(d));else{if(this.type==="variables_get")var i="variables_set",u=e.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else i="variables_get",u=e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var d=this.getField("VAR");i={type:i,fields:{VAR:d.saveState(!0)}},n.push({enabled:0<this.workspace.remainingCapacity(),text:u.replace("%1",d.getText()),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,i)})}}},T=function(n){return function(){const i=n.workspace,u=n.getField("VAR").getVariable();e.renameVariable$$module$build$src$core$variables(i,u)}},b=function(n){return function(){const i=n.workspace,u=n.getField("VAR").getVariable();i.deleteVariableById(u.getId()),i.refreshToolboxSelection()}};e.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",p),e.defineBlocks$$module$build$src$core$common($);var O={blocks:$},h=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),S={init:function(){this.WHERE_OPTIONS_1=[[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");var i=this.getInput("AT1")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return n.setAttribute("at1",`${i}`),i=this.getInput("AT2")instanceof e.ValueInput$$module$build$src$core$inputs$value_input,n.setAttribute("at2",`${i}`),n},domToMutation:function(n){const i=n.getAttribute("at1")==="true";n=n.getAttribute("at2")==="true",this.updateAt_(1,i),this.updateAt_(2,n)},updateAt_:function(n,i){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),i?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n),n===2&&e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const u=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+n]});u.setValidator(function(d){const g=d==="FROM_START"||d==="FROM_END";if(g!==i){const L=this.getSourceBlock();return L.updateAt_(n,g),L.setFieldValue(d,"WHERE"+n),null}}),this.getInput("AT"+n).appendField(u,"WHERE"+n),n===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};h.text_getSubstring=S,h.text_changeCase={init:function(){const n=[[e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},h.text_trim={init:function(){const n=[[e.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},h.text_print={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var E={updateType_:function(n){this.outputConnection.setCheck(n==="NUMBER"?"Number":"String")},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("type",this.getFieldValue("TYPE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("type"))}};h.text_prompt_ext=Object.assign({},E,{init:function(){var n=[[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),n=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),n.setValidator(i=>{this.updateType_(i)}),this.appendValueInput("TEXT").appendField(n,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var C=Object.assign({},E,{init:function(){this.mixin(A);var n=[[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),n=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),n.setValidator(i=>{this.updateType_(i)}),this.appendDummyInput().appendField(n,"TYPE").appendField(this.newQuote_(!0)).appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});h.text_prompt=C,h.text_count={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},h.text_replace={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},h.text_reverse={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var A={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(n){for(let i=0,u;u=this.inputList[i];i++)for(let d=0,g;g=u.fieldRow[d];d++)if(n===g.name){u.insertFieldAt(d,this.newQuote_(!0)),u.insertFieldAt(d+2,this.newQuote_(!1));return}console.warn('field named "'+n+'" not found in '+this.toDevString())},newQuote_:function(n){return n=this.RTL?!n:n,e.fromJson$$module$build$src$core$field_registry({type:"field_image",src:n?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:n?"“":"”"})}},N=function(){this.mixin(A),this.quoteField_("TEXT")},v={itemCount_:0,mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("items",`${this.itemCount_}`),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(n){this.itemCount_=n.itemCount,this.updateShape_()},decompose:function(n){const i=n.newBlock("text_create_join_container");i.initSvg();let u=i.getInput("STACK").connection;for(let d=0;d<this.itemCount_;d++){const g=n.newBlock("text_create_join_item");g.initSvg(),u.connect(g.previousConnection),u=g.nextConnection}return i},compose:function(n){var i=n.getInputTargetBlock("STACK");for(n=[];i;)i.isInsertionMarker()||n.push(i.valueConnection_),i=i.getNextBlock();for(i=0;i<this.itemCount_;i++){const u=this.getInput("ADD"+i).connection.targetConnection;u&&!n.includes(u)&&u.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),i=0;i<this.itemCount_;i++){let u;(u=n[i])==null||u.reconnect(this,"ADD"+i)}},saveConnections:function(n){n=n.getInputTargetBlock("STACK");let i=0;for(;n;){if(n.isInsertionMarker()){n=n.getNextBlock();continue}const u=this.getInput("ADD"+i);n.valueConnection_=u&&u.connection.targetConnection,n=n.getNextBlock(),i++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){const i=this.appendValueInput("ADD"+n).setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT);n===0&&i.appendField(e.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(n=this.itemCount_;this.getInput("ADD"+n);n++)this.removeInput("ADD"+n)}},x=function(){this.mixin(A),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};e.register$$module$build$src$core$extensions("text_append_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var K=function(){this.setTooltip(()=>e.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},k={isAt_:!1,mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("at",`${this.isAt_}`),n},domToMutation:function(n){n=n.getAttribute("at")!=="false",this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),n&&(this.appendValueInput("AT").setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),e.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=n}},H=function(){this.getField("WHERE").setValidator(function(n){n=n==="FROM_START"||n==="FROM_END";const i=this.getSourceBlock();n!==i.isAt_&&i.updateAt_(n)}),this.updateAt_(!0),this.setTooltip(()=>{var n=this.getFieldValue("WHERE");let i=e.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(n==="FROM_START"||n==="FROM_END")&&(n=n==="FROM_START"?e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(i+="  "+n.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),i})};e.register$$module$build$src$core$extensions("text_indexOf_tooltip",K),e.register$$module$build$src$core$extensions("text_quotes",N),e.registerMixin$$module$build$src$core$extensions("quote_image_mixin",A),e.registerMutator$$module$build$src$core$extensions("text_join_mutator",v,x),e.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",k,H),e.defineBlocks$$module$build$src$core$common(h);var pe={blocks:h},X={},P={setStatements_:function(n){this.hasStatements_!==n&&(n?(this.appendStatementInput("STACK").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=n)},updateParams_:function(){let n="";this.arguments_.length&&(n=e.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.disable$$module$build$src$core$events$utils();try{this.setFieldValue(n,"PARAMS")}finally{e.enable$$module$build$src$core$events$utils()}},mutationToDom:function(n){const i=e.createElement$$module$build$src$core$utils$xml("mutation");n&&i.setAttribute("name",this.getFieldValue("NAME"));for(let u=0;u<this.argumentVarModels_.length;u++){const d=e.createElement$$module$build$src$core$utils$xml("arg"),g=this.argumentVarModels_[u];d.setAttribute("name",g.name),d.setAttribute("varid",g.getId()),n&&this.paramIds_&&d.setAttribute("paramId",this.paramIds_[u]),i.appendChild(d)}return this.hasStatements_||i.setAttribute("statements","false"),i},domToMutation:function(n){this.arguments_=[],this.argumentVarModels_=[];for(let u=0,d;d=n.childNodes[u];u++)if(d.nodeName.toLowerCase()==="arg"){var i=d;const g=i.getAttribute("name");i=i.getAttribute("varid")||i.getAttribute("varId"),this.arguments_.push(g),i=e.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,i,g,""),i!==null?this.argumentVarModels_.push(i):console.log(`Failed to create a variable named "${g}", ignoring.`)}this.updateParams_(),e.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(n.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const n=Object.create(null);if(this.argumentVarModels_.length){n.params=[];for(let i=0;i<this.argumentVarModels_.length;i++)n.params.push({name:this.argumentVarModels_[i].name,id:this.argumentVarModels_[i].getId()})}return this.hasStatements_||(n.hasStatements=!1),n},loadExtraState:function(n){if(this.arguments_=[],this.argumentVarModels_=[],n.params)for(let u=0;u<n.params.length;u++){var i=n.params[u];i=e.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,i.id,i.name,""),this.arguments_.push(i.name),this.argumentVarModels_.push(i)}this.updateParams_(),e.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(n.hasStatements!==!1)},decompose:function(n){const i=e.createElement$$module$build$src$core$utils$xml("block");i.setAttribute("type","procedures_mutatorcontainer");var u=e.createElement$$module$build$src$core$utils$xml("statement");u.setAttribute("name","STACK"),i.appendChild(u);for(let g=0;g<this.arguments_.length;g++){const L=e.createElement$$module$build$src$core$utils$xml("block");L.setAttribute("type","procedures_mutatorarg");var d=e.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME");const Be=e.createTextNode$$module$build$src$core$utils$xml(this.arguments_[g]);d.appendChild(Be),L.appendChild(d),d=e.createElement$$module$build$src$core$utils$xml("next"),L.appendChild(d),u.appendChild(L),u=d}return n=e.domToBlock$$module$build$src$core$xml(i,n),this.type==="procedures_defreturn"?n.setFieldValue(this.hasStatements_,"STATEMENTS"):n.removeInput("STATEMENT_INPUT"),e.mutateCallers$$module$build$src$core$procedures(this),n},compose:function(n){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let i=n.getInputTargetBlock("STACK");for(;i&&!i.isInsertionMarker();){var u=i.getFieldValue("NAME");this.arguments_.push(u),u=this.workspace.getVariable(u,""),this.argumentVarModels_.push(u),this.paramIds_.push(i.id),i=i.nextConnection&&i.nextConnection.targetBlock()}if(this.updateParams_(),e.mutateCallers$$module$build$src$core$procedures(this),n=n.getFieldValue("STATEMENTS"),n!==null&&(n=n==="TRUE",this.hasStatements_!==n))if(n){this.setStatements_(!0);var d;(d=this.statementConnection_)==null||d.reconnect(this,"STACK"),this.statementConnection_=null}else d=this.getInput("STACK").connection,(this.statementConnection_=d.targetConnection)&&(d=d.targetBlock(),d.unplug(),d.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(n,i){var u=this.workspace.getVariableById(n);if(u.type===""){u=u.name,i=this.workspace.getVariableById(i);var d=!1;for(let g=0;g<this.argumentVarModels_.length;g++)this.argumentVarModels_[g].getId()===n&&(this.arguments_[g]=i.name,this.argumentVarModels_[g]=i,d=!0);d&&(this.displayRenamedVar_(u,i.name),e.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(n){const i=n.name;let u=!1,d;for(let g=0;g<this.argumentVarModels_.length;g++)this.argumentVarModels_[g].getId()===n.getId()&&(d=this.arguments_[g],this.arguments_[g]=i,u=!0);u&&(this.displayRenamedVar_(d,i),e.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(n,i){this.updateParams_();var u=this.getIcon(e.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(u&&u.bubbleIsVisible()){u=u.getWorkspace().getAllBlocks(!1);for(let d=0,g;g=u[d];d++)g.type==="procedures_mutatorarg"&&e.Names$$module$build$src$core$names.equals(n,g.getFieldValue("NAME"))&&g.setFieldValue(i,"NAME")}},customContextMenu:function(n){if(!this.isInFlyout){var i=this.getFieldValue("NAME"),u={type:this.callType_,extraState:{name:i,params:this.arguments_}};if(n.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",i),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,u)}),!this.isCollapsed())for(i=0;i<this.argumentVarModels_.length;i++){u=this.argumentVarModels_[i];const d={type:"variables_get",fields:{VAR:{name:u.name,id:u.getId(),type:u.type}}};n.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",u.name),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,d)})}}}};X.procedures_defnoreturn=Object.assign({},P,{init:function(){var n=e.findLegalName$$module$build$src$core$procedures("",this);n=e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:n}),n.setValidator(e.rename$$module$build$src$core$procedures),n.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),X.procedures_defreturn=Object.assign({},P,{init:function(){var n=e.findLegalName$$module$build$src$core$procedures("",this);n=e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:n}),n.setValidator(e.rename$$module$build$src$core$procedures),n.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT).appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var W={init:function(){this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};X.procedures_mutatorcontainer=W;var D={init:function(){const n=e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:e.DEFAULT_ARG$$module$build$src$core$procedures});n.setValidator(this.validator_),n.oldShowEditorFn_=n.showEditor_,n.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(n,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,n.onFinishEditing_=this.deleteIntermediateVars_,n.createdVariables_=[],n.onFinishEditing_("x")},validator_:function(n){var i=this.getSourceBlock();const u=i.workspace.getRootWorkspace();if(n=n.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!n)return null;const d=(i.workspace.targetWorkspace||i.workspace).getAllBlocks(!1),g=n.toLowerCase();for(let L=0;L<d.length;L++){if(d[L].id===this.getSourceBlock().id)continue;const Be=d[L].getFieldValue("NAME");if(Be&&Be.toLowerCase()===g)return null}return i.isInFlyout||((i=u.getVariable(n,""))&&i.name!==n&&u.renameVariableById(i.getId(),n),i||(i=u.createVariable(n,""))&&this.createdVariables_&&this.createdVariables_.push(i)),n},deleteIntermediateVars_:function(n){const i=this.getSourceBlock().workspace.getRootWorkspace();if(i)for(let u=0;u<this.createdVariables_.length;u++){const d=this.createdVariables_[u];d.name!==n&&i.deleteVariableById(d.getId())}}};X.procedures_mutatorarg=D;var F="DISABLED_PROCEDURE_DEFINITION",q={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(n,i){e.Names$$module$build$src$core$names.equals(n,this.getProcedureCall())&&(this.setFieldValue(i,"NAME"),this.setTooltip((this.outputConnection?e.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",i)))},setProcedureParameters_:function(n,i){var u=e.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((u=(u=u&&u.getIcon(e.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&u.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),n.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=i;else{if(i.length!==n.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let g=0;g<this.arguments_.length;g++){var d=this.getInput("ARG"+g);d&&(d=d.connection.targetConnection,this.quarkConnections_[this.quarkIds_[g]]=d,u&&d&&!i.includes(this.quarkIds_[g])&&(d.disconnect(),d.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(n),this.argumentVarModels_=[],n=0;n<this.arguments_.length;n++)u=e.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[n],""),this.argumentVarModels_.push(u);if(this.updateShape_(),this.quarkIds_=i){for(i=0;i<this.arguments_.length;i++)if(n=this.quarkIds_[i],n in this.quarkConnections_){let g;(g=this.quarkConnections_[n])!=null&&g.reconnect(this,"ARG"+i)||delete this.quarkConnections_[n]}}}},updateShape_:function(){for(var n=0;n<this.arguments_.length;n++){var i=this.getField("ARGNAME"+n);if(i){e.disable$$module$build$src$core$events$utils();try{i.setValue(this.arguments_[n])}finally{e.enable$$module$build$src$core$events$utils()}}else i=e.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[n]}),this.appendValueInput("ARG"+n).setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT).appendField(i,"ARGNAME"+n)}for(n=this.arguments_.length;this.getInput("ARG"+n);n++)this.removeInput("ARG"+n);(n=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||n.appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&n.removeField("WITH"))},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");n.setAttribute("name",this.getProcedureCall());for(let i=0;i<this.arguments_.length;i++){const u=e.createElement$$module$build$src$core$utils$xml("arg");u.setAttribute("name",this.arguments_[i]),n.appendChild(u)}return n},domToMutation:function(n){var i=n.getAttribute("name");this.renameProcedure(this.getProcedureCall(),i),i=[];const u=[];for(let d=0,g;g=n.childNodes[d];d++)g.nodeName.toLowerCase()==="arg"&&(i.push(g.getAttribute("name")),u.push(g.getAttribute("paramId")));this.setProcedureParameters_(i,u)},saveExtraState:function(){const n=Object.create(null);return n.name=this.getProcedureCall(),this.arguments_.length&&(n.params=this.arguments_),n},loadExtraState:function(n){if(this.renameProcedure(this.getProcedureCall(),n.name),n=n.params){const i=[];i.length=n.length,i.fill(null),this.setProcedureParameters_(n,i)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(n){if(this.workspace&&!this.workspace.isFlyout&&n.recordUndo)if(n.type===e.CREATE$$module$build$src$core$events$utils&&n.ids.includes(this.id)){var i=this.getProcedureCall();if(i=e.getDefinition$$module$build$src$core$procedures(i,this.workspace),!i||i.type===this.defType_&&JSON.stringify(i.getVars())===JSON.stringify(this.arguments_)||(i=null),!i){e.setGroup$$module$build$src$core$events$utils(n.group),n=e.createElement$$module$build$src$core$utils$xml("xml"),i=e.createElement$$module$build$src$core$utils$xml("block"),i.setAttribute("type",this.defType_);var u=this.getRelativeToSurfaceXY(),d=u.y+2*e.config$$module$build$src$core$config.snapRadius;i.setAttribute("x",`${u.x+e.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),i.setAttribute("y",`${d}`),u=this.mutationToDom(),i.appendChild(u),u=e.createElement$$module$build$src$core$utils$xml("field"),u.setAttribute("name","NAME"),d=this.getProcedureCall();const g=e.findLegalName$$module$build$src$core$procedures(d,this);d!==g&&this.renameProcedure(d,g),u.appendChild(e.createTextNode$$module$build$src$core$utils$xml(d)),i.appendChild(u),n.appendChild(i),e.domToWorkspace$$module$build$src$core$xml(n,this.workspace),e.setGroup$$module$build$src$core$events$utils(!1)}}else n.type===e.DELETE$$module$build$src$core$events$utils?(i=this.getProcedureCall(),e.getDefinition$$module$build$src$core$procedures(i,this.workspace)||(e.setGroup$$module$build$src$core$events$utils(n.group),this.dispose(!0),e.setGroup$$module$build$src$core$events$utils(!1))):n.type===e.CHANGE$$module$build$src$core$events$utils&&n.element==="disabled"&&(i=this.getProcedureCall(),(d=e.getDefinition$$module$build$src$core$procedures(i,this.workspace))&&d.id===n.blockId&&((u=e.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),e.setGroup$$module$build$src$core$events$utils(n.group),n=d.isEnabled(),this.setDisabledReason(!n,F),this.setWarningText(n?null:e.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",i)),e.setGroup$$module$build$src$core$events$utils(u)))},customContextMenu:function(n){if(this.workspace.isMovable()){var i=this.getProcedureCall(),u=this.workspace;n.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const d=e.getDefinition$$module$build$src$core$procedures(i,u);d&&(u.centerOnBlock(d.id),e.setSelected$$module$build$src$core$common(d))}})}}};X.procedures_callnoreturn=Object.assign({},q,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),X.procedures_callreturn=Object.assign({},q,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var ie="UNPARENTED_IFRETURN",xe={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("value",String(Number(this.hasReturnValue_))),n},domToMutation:function(n){this.hasReturnValue_=n.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(n){if(!(this.workspace.isDragging&&this.workspace.isDragging()||n.type!==e.MOVE$$module$build$src$core$events$utils&&n.type!==e.CREATE$$module$build$src$core$events$utils)){n=!1;var i=this;do{if(this.FUNCTION_TYPES.includes(i.type)){n=!0;break}i=i.getSurroundParent()}while(i);if(n?(i.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):i.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(e.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{e.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!n,ie)}finally{e.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};X.procedures_ifreturn=xe,e.defineBlocks$$module$build$src$core$common(X);var Us={blocks:X},qe=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),Hs={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};e.register$$module$build$src$core$extensions("math_op_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Hs));var Vs={mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation"),i=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return n.setAttribute("divisor_input",String(i)),n},domToMutation:function(n){n=n.getAttribute("divisor_input")==="true",this.updateShape_(n)},updateShape_:function(n){const i=this.getInput("DIVISOR");n?i||this.appendValueInput("DIVISOR").setCheck("Number"):i&&this.removeInput("DIVISOR")}},Gs=function(){this.getField("PROPERTY").setValidator(function(n){n=n==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(n)})};e.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Vs,Gs),e.register$$module$build$src$core$extensions("math_change_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Ys={updateType_:function(n){n==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("op",this.getFieldValue("OP")),n},domToMutation:function(n){if(n=n.getAttribute("op"),n===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(n)}},Ks=function(){this.getField("OP").setValidator((function(n){this.updateType_(n)}).bind(this))};e.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",Ys,Ks),e.defineBlocks$$module$build$src$core$common(qe);var Xs={blocks:qe},Je=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),js={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};e.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",js));var Ws={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};e.register$$module$build$src$core$extensions("controls_flow_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",Ws));var qs={customContextMenu:function(n){if(!this.isInFlyout){var i=this.getField("VAR"),u=i.getVariable().name;this.isCollapsed()||u===null||(i={type:"variables_get",fields:{VAR:i.saveState(!0)}},n.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",u),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,i)}))}}};e.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",qs),e.register$$module$build$src$core$extensions("controls_for_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.register$$module$build$src$core$extensions("controls_forEach_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var At=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Js="CONTROL_FLOW_NOT_IN_LOOP",zs={getSurroundLoop:function(){let n=this;do{if(At.has(n.type))return n;n=n.getSurroundParent()}while(n);return null},onchange:function(n){const i=this.workspace;if(i.isDragging&&!i.isDragging()&&(n.type===e.MOVE$$module$build$src$core$events$utils||n.type===e.CREATE$$module$build$src$core$events$utils)&&(n=!!this.getSurroundLoop(),this.setWarningText(n?null:e.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{e.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!n,Js)}finally{e.setRecordUndo$$module$build$src$core$events$utils(!0)}}};e.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",zs),e.defineBlocks$$module$build$src$core$common(Je);var Qs={blocks:Je,loopTypes:At},ze=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Zs={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};e.register$$module$build$src$core$extensions("logic_op_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Zs));var en={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const n=e.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&n.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&n.setAttribute("else","1"),n},domToMutation:function(n){this.elseifCount_=parseInt(n.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(n.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const n=Object.create(null);return this.elseifCount_&&(n.elseIfCount=this.elseifCount_),this.elseCount_&&(n.hasElse=!0),n},loadExtraState:function(n){this.elseifCount_=n.elseIfCount||0,this.elseCount_=n.hasElse?1:0,this.updateShape_()},decompose:function(n){const i=n.newBlock("controls_if_if");i.initSvg();let u=i.nextConnection;for(let d=1;d<=this.elseifCount_;d++){const g=n.newBlock("controls_if_elseif");g.initSvg(),u.connect(g.previousConnection),u=g.nextConnection}return this.elseCount_&&(n=n.newBlock("controls_if_else"),n.initSvg(),u.connect(n.previousConnection)),i},compose:function(n){n=n.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const i=[null],u=[null];let d=null;for(;n;){if(!n.isInsertionMarker())switch(n.type){case"controls_if_elseif":this.elseifCount_++,i.push(n.valueConnection_),u.push(n.statementConnection_);break;case"controls_if_else":this.elseCount_++,d=n.statementConnection_;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(i,u,d)},saveConnections:function(n){n=n.nextConnection.targetBlock();let i=1;for(;n;){if(!n.isInsertionMarker())switch(n.type){case"controls_if_elseif":var u=this.getInput("IF"+i);const d=this.getInput("DO"+i);n.valueConnection_=u&&u.connection.targetConnection,n.statementConnection_=d&&d.connection.targetConnection,i++;break;case"controls_if_else":u=this.getInput("ELSE"),n.statementConnection_=u&&u.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.getNextBlock()}},rebuildShape_:function(){const n=[null],i=[null];let u=null;this.getInput("ELSE")&&(u=this.getInput("ELSE").connection.targetConnection);for(let d=1;this.getInput("IF"+d);d++){const g=this.getInput("IF"+d),L=this.getInput("DO"+d);n.push(g.connection.targetConnection),i.push(L.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(n,i,u)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var n=1;this.getInput("IF"+n);n++)this.removeInput("IF"+n),this.removeInput("DO"+n);for(n=1;n<=this.elseifCount_;n++)this.appendValueInput("IF"+n).setCheck("Boolean").appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+n).appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(n,i,u){for(let d=1;d<=this.elseifCount_;d++){let g;(g=n[d])==null||g.reconnect(this,"IF"+d);let L;(L=i[d])==null||L.reconnect(this,"DO"+d)}u==null||u.reconnect(this,"ELSE")}};e.registerMutator$$module$build$src$core$extensions("controls_if_mutator",en,null,["controls_if_elseif","controls_if_else"]);var tn=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};e.register$$module$build$src$core$extensions("controls_if_tooltip",tn);var sn={onchange:function(n){this.prevBlocks_||(this.prevBlocks_=[null,null]);var i=this.getInputTargetBlock("A");const u=this.getInputTargetBlock("B");i&&u&&!this.workspace.connectionChecker.doTypeChecks(i.outputConnection,u.outputConnection)&&(e.setGroup$$module$build$src$core$events$utils(n.group),n=this.prevBlocks_[0],n!==i&&(i.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("A").connection.connect(n.outputConnection)),i=this.prevBlocks_[1],i!==u&&(u.unplug(),!i||i.isDisposed()||i.isShadow()||this.getInput("B").connection.connect(i.outputConnection)),this.bumpNeighbours(),e.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},nn=function(){this.mixin(sn)};e.register$$module$build$src$core$extensions("logic_compare",nn);var on={prevParentConnection_:null,onchange:function(n){const i=this.getInputTargetBlock("THEN"),u=this.getInputTargetBlock("ELSE"),d=this.outputConnection.targetConnection;if((i||u)&&d)for(let g=0;2>g;g++){const L=g===1?i:u;L&&!L.workspace.connectionChecker.doTypeChecks(L.outputConnection,d)&&(e.setGroup$$module$build$src$core$events$utils(n.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours()):(L.unplug(),L.bumpNeighbours()),e.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=d}};e.registerMixin$$module$build$src$core$extensions("logic_ternary",on),e.defineBlocks$$module$build$src$core$common(ze);var rn={blocks:ze},J=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),ln={init:function(){this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("items",String(this.itemCount_)),n},domToMutation:function(n){if(n=n.getAttribute("items"),!n)throw new TypeError("element did not have items");this.itemCount_=parseInt(n,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(n){this.itemCount_=n.itemCount,this.updateShape_()},decompose:function(n){const i=n.newBlock("lists_create_with_container");i.initSvg();let u=i.getInput("STACK").connection;for(let d=0;d<this.itemCount_;d++){const g=n.newBlock("lists_create_with_item");if(g.initSvg(),!g.previousConnection)throw Error("itemBlock has no previousConnection");u.connect(g.previousConnection),u=g.nextConnection}return i},compose:function(n){var i=n.getInputTargetBlock("STACK");for(n=[];i;)i.isInsertionMarker()||n.push(i.valueConnection_),i=i.getNextBlock();for(i=0;i<this.itemCount_;i++){const u=this.getInput("ADD"+i).connection.targetConnection;u&&!n.includes(u)&&u.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),i=0;i<this.itemCount_;i++){let u;(u=n[i])==null||u.reconnect(this,"ADD"+i)}},saveConnections:function(n){n=n.getInputTargetBlock("STACK");let i=0;for(;n;){if(n.isInsertionMarker()){n=n.getNextBlock();continue}const u=this.getInput("ADD"+i);let d;n.valueConnection_=(d=u)==null?void 0:d.connection.targetConnection,n=n.getNextBlock(),i++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){const i=this.appendValueInput("ADD"+n).setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT);n===0&&i.appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(n=this.itemCount_;this.getInput("ADD"+n);n++)this.removeInput("ADD"+n)}};J.lists_create_with=ln;var an={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};J.lists_create_with_container=an;var cn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};J.lists_create_with_item=cn;var un={init:function(){var n=[[e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),n=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),!n)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(n,"END"),this.setInputsInline(!0),this.setTooltip(()=>e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};J.lists_indexOf=un;var dn={init:function(){var n=[[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),n=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),n.setValidator(function(i){i=i==="REMOVE",this.getSourceBlock().updateStatement_(i)}),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const i=this.getFieldValue("MODE"),u=this.getFieldValue("WHERE");let d="";switch(i+" "+u){case"GET FROM_START":case"GET FROM_END":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":d=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(u==="FROM_START"||u==="FROM_END")&&(d+="  "+(u==="FROM_START"?e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),d})},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");n.setAttribute("statement",String(!this.outputConnection));const i=this.getInput("AT")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return n.setAttribute("at",String(i)),n},domToMutation:function(n){const i=n.getAttribute("statement")==="true";this.updateStatement_(i),n=n.getAttribute("at")!=="false",this.updateAt_(n)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(n){n.isStatement?this.updateStatement_(!0):typeof n=="string"&&this.domToMutation(e.textToDom$$module$build$src$core$utils$xml(n))},updateStatement_:function(n){n!==!this.outputConnection&&(this.unplug(!0,!0),n?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const i=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});i.setValidator(function(u){const d=u==="FROM_START"||u==="FROM_END";if(d!==n){const g=this.getSourceBlock();return g.updateAt_(d),g.setFieldValue(u,"WHERE"),null}}),this.getInput("AT").appendField(i,"WHERE"),e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};J.lists_getIndex=dn;var pn={init:function(){var n=[[e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),n=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const i=this.getFieldValue("MODE"),u=this.getFieldValue("WHERE");let d="";switch(i+" "+u){case"SET FROM_START":case"SET FROM_END":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":d=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(u==="FROM_START"||u==="FROM_END")&&(d+="  "+e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),d})},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation"),i=this.getInput("AT")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return n.setAttribute("at",String(i)),n},domToMutation:function(n){n=n.getAttribute("at")!=="false",this.updateAt_(n)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const i=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});i.setValidator(function(u){const d=u==="FROM_START"||u==="FROM_END";if(d!==n){const g=this.getSourceBlock();return g.updateAt_(d),g.setFieldValue(u,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(i,"WHERE")}};J.lists_setIndex=pn;var $n={init:function(){this.WHERE_OPTIONS_1=[[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");var i=this.getInput("AT1")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return n.setAttribute("at1",String(i)),i=this.getInput("AT2")instanceof e.ValueInput$$module$build$src$core$inputs$value_input,n.setAttribute("at2",String(i)),n},domToMutation:function(n){const i=n.getAttribute("at1")==="true";n=n.getAttribute("at2")==="true",this.updateAt_(1,i),this.updateAt_(2,n)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(n,i){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),i?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n);const u=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+n]});u.setValidator(function(d){const g=d==="FROM_START"||d==="FROM_END";if(g!==i){const L=this.getSourceBlock();return L.updateAt_(n,g),L.setFieldValue(d,"WHERE"+n),null}}),this.getInput("AT"+n).appendField(u,"WHERE"+n),n===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};J.lists_getSublist=$n,J.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},J.lists_split={init:function(){const n=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[e.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!n)throw Error("field_dropdown not found");n.setValidator(i=>{this.updateType_(i)}),this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const i=this.getFieldValue("MODE");if(i==="SPLIT")return e.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(i==="JOIN")return e.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+i)})},updateType_:function(n){if(this.getFieldValue("MODE")!==n){const i=this.getInput("INPUT").connection;i.setShadowDom(null);const u=i.targetBlock();u&&(i.disconnect(),u.isShadow()?u.dispose(!1):this.bumpNeighbours())}n==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const n=e.createElement$$module$build$src$core$utils$xml("mutation");return n.setAttribute("mode",this.getFieldValue("MODE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},e.defineBlocks$$module$build$src$core$common(J);var _n={blocks:J},mn=Object.assign({},J,ze,Je,qe,X,h,$,r),yt={blocks:mn,lists:_n,logic:rn,loops:Qs,math:Xs,procedures:Us,texts:pe,variables:O,variablesDynamic:m};return yt.__namespace__=e,yt})})(xs);var gc=xs.exports;const Gr={...as.Zelos.blockStyles,defaultBlock1:{colourPrimary:"#B2DAFF",colourSecondary:"#F4F8FA",colourTertiary:"#2677C3"},defaultBlock2:{colourPrimary:"#67B6FF",colourSecondary:"F4F8FA",colourTertiary:"#2677C3"},defaultBlock3:{colourPrimary:"#4195E4",colourSecondary:"#F4F8FA",colourTertiary:"#2677C3"},defaultBlockCss:{colourPrimary:"#FFF3AD",colourSecondary:"#41505B",colourTertiary:"#FFE241"}},Ec=Xn.defineTheme("custom",{name:"custom",base:as.Classic,componentStyles:{workspaceBackgroundColour:"#fafafa",toolboxBackgroundColour:"blackBackground",flyoutBackgroundColour:"white",flyoutOpacity:1,scrollbarColour:"#000000",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.001,cursorColour:"#d0d0d0"},categoryStyles:Nr,blockStyles:Gr});class Rt extends jn{position(){if(!this.isVisible()||!this.targetWorkspace.isVisible())return;const s=this.targetWorkspace.getToolbox(),o=7,e=0;if(!s)throw new Error("no toolbox");const r=s.getContentAreaMetrics();this.width_=r.width,this.height_=r.height,this.positionAt_(r.width-7,r.height-s.getContentHeight(),o,e)}hide(){}getFlyoutScale(){return 1}positionNewBlock(s,o){const e=this.targetWorkspace,r=this.svgGroup_;if(!r)throw new Error("flyout의 element를 찾을 수 없습니다.");const l=e.getOriginOffsetInPixels(),a=r.getBoundingClientRect(),c=e.getParentSvg().getBoundingClientRect(),m=this.workspace_.getCanvas().getAttribute("transform");if(!m)throw new Error("blocklyBlockCanvas에서 transform 값을 찾을 수 없습니다.");const $=new Q.Coordinate(a.x-c.x,a.y-c.y),p=this.getTranslate_(m);$.x=a.x-c.x,$.y=a.y-c.y+p.y;const T=s.getRelativeToSurfaceXY();T.scale(this.workspace_.scale);const b=Q.Coordinate.sum($,T),O=Q.Coordinate.difference(b,l);O.scale(1/e.scale),o.moveTo(new Q.Coordinate(O.x,O.y))}getTranslate_(s){const o=s==null?void 0:s.match(/translate\(\s*[\d.-]+,\s*([\d.-]+)\)/);if(!o)throw new Error("일치하는 translate 값이 없습니다.");return{x:parseFloat(o[0]),y:parseFloat(o[1])}}}z(Rt,"registryName","FixedFlyout");const Yr=t=>/^[a-zA-Z_-]/.test(t),Kr=t=>/^.[a-zA-Z0-9_-]*$/.test(t);class Xr extends Gn{constructor(s,o,e){super(String(s??""),o,e)}initView(){super.initView(),this.textElement_&&(this.textElement_.style.fill="#1E272E")}}class se{static createElement(s,o,e){const r=document.createElement(s);for(const l in o)r.setAttribute(l,`${o[l]}`);return e&&e.appendChild(r),r}static createSvgElement(s,o,e){const r=document.createElementNS(this.SVG_NS,`${s}`);for(const l in o)r.setAttribute(l,`${o[l]}`);return e&&e.appendChild(r),r}static insertAfter(s,o){const e=o.nextElementSibling,r=o.parentNode;if(!r)throw Error("Reference node has no parent.");e?r.insertBefore(s,e):r.appendChild(s)}}z(se,"SVG_NS","http://www.w3.org/2000/svg");const jr=({workspaceId:t,title:s,thumbnail:o,lastEdited:e,onClick:r})=>{const{openModal:l,closeModal:a,setModalContent:c,setHandleModalCloseButton:m,setHandleModalConfirmButton:$}=ns(),{mutate:p}=mi(),T=()=>{c(`${s}을(를)
      삭제하겠습니까?`),m(()=>{a()}),$(()=>{p(t)}),l()};return f.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-white shadow-md",children:[f.jsx("button",{className:"absolute right-2 top-2 flex h-8 w-8 items-center justify-center rounded-full bg-white p-2 text-gray-300 transition-colors hover:bg-red-500 hover:text-white",onClick:T,"aria-label":"워크스페이스 삭제 버튼",children:f.jsx(Cn,{width:16})}),f.jsxs("div",{className:"cursor-pointer",onClick:r,children:[f.jsx("div",{className:"flex h-[180px] overflow-hidden border-b border-gray-50 bg-gray-50",children:o&&f.jsx("img",{src:o,alt:"workspace thumbnail",className:"w-full object-cover object-left-top"})}),f.jsxs("aside",{className:"p-4 pb-6",children:[f.jsx("h2",{className:"text-bold-md mb-1.5 text-gray-500",children:s}),f.jsx("p",{className:"text-medium-sm text-gray-400",children:Un(e)})]})]})]})};jr.__docgenInfo={description:`@description
워크스페이스 아이템 컴포넌트`,methods:[],displayName:"WorkspaceItem",props:{workspaceId:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},thumbnail:{required:!0,tsType:{name:"string"},description:""},lastEdited:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var He=(t=>(t.SMALL="SMALL",t.MEDIUM="MEDIUM",t))(He||{});const Wr=t=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},I.createElement("path",{d:"M20.5 8.5L12 17L3.5 8.5",stroke:"#222222",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})),qr=t=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},I.createElement("path",{d:"M3.5 15.5L12 7L20.5 15.5",stroke:"#222222",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})),Bs=({id:t,options:s,value:o,onChange:e,placeholder:r="",size:l=He.MEDIUM,disabled:a=!1})=>{var pe,X;const[c,m]=I.useState(!1),[$,p]=I.useState(o),[T,b]=I.useState("bottom"),[O,h]=I.useState(0),[S,E]=I.useState(!1),C=I.useRef(null),A=I.useRef(null),{screenHeight:N}=Fs();I.useEffect(()=>{p(o)},[o]),I.useEffect(()=>{const P=D=>{var ie,xe;const F=(ie=C.current)==null?void 0:ie.contains(D.target),q=(xe=A.current)==null?void 0:xe.contains(D.target);!F&&!q&&m(!1)},W=D=>{var F;c&&((F=A.current)!=null&&F.contains(D.target)||m(!1))};return document.addEventListener("mousedown",P),document.addEventListener("scroll",W,!0),()=>{document.removeEventListener("mousedown",P),document.removeEventListener("scroll",W,!0)}},[c]),I.useEffect(()=>{if(c&&A.current){E(!1);const P=new ResizeObserver(W=>{const D=W[0].contentRect.height;if(D>0&&(h(D),C.current)){const F=C.current.getBoundingClientRect(),q=N-F.bottom,ie=F.top;b(q<D&&ie>D?"top":"bottom"),E(!0)}});return P.observe(A.current),()=>P.disconnect()}},[c,N]);const v=()=>{if(!a){if(c){m(!1);return}m(!0),b("bottom")}},x=P=>{p(P),e(P),m(!1)},K=P=>P.length===0?f.jsx(f.Fragment,{}):typeof P[0]=="string"?P.map(F=>f.jsx("li",{onClick:()=>x(F),className:`cursor-pointer rounded-lg px-4 py-2 hover:bg-yellow-200 ${F===$?"bg-yellow-500 text-gray-500":"text-gray-300"}`,children:F},F)):P.map(D=>f.jsx("li",{onClick:()=>x(D.value),className:`cursor-pointer rounded-lg px-4 py-2 hover:bg-yellow-200 ${D.value===$?"bg-yellow-500 text-gray-500":"text-gray-300"}`,children:D.label},D.value)),H=((P,W)=>{var F;if(W.length===0)return r;if(typeof W[0]=="string"){const q=W;return q.find(ie=>ie===P)||q[0]}return((F=W.find(q=>q.value===P))==null?void 0:F.label)||r})($,s);return f.jsxs("div",{className:`${l===He.MEDIUM?"w-52":"w-36"} relative text-ellipsis whitespace-nowrap`,ref:C,id:t||void 0,children:[f.jsx("button",{type:"button",onClick:v,disabled:a,className:"text-medium-md w-full rounded-lg border border-gray-100 bg-white px-4 py-1.5 text-left focus:outline-none disabled:border disabled:border-gray-100 disabled:bg-gray-50","aria-label":"선택 옵션 열고 닫기 버튼",children:f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:`${$?"text-gray-500":"text-gray-200"}`,children:H}),c?f.jsx(Wr,{width:12}):f.jsx(qr,{width:12})]})}),c&&rs.createPortal(f.jsx("div",{ref:A,className:"fixed z-[9999] min-w-24 rounded-lg border border-gray-100 bg-white shadow-lg transition-opacity duration-200",style:{left:C.current?`${C.current.getBoundingClientRect().left}px`:"0",top:T==="bottom"?`${(((pe=C.current)==null?void 0:pe.getBoundingClientRect().bottom)||0)+4}px`:`${(((X=C.current)==null?void 0:X.getBoundingClientRect().top)||0)-O-4}px`,opacity:S?1:0,visibility:S?"visible":"hidden"},children:f.jsx("ul",{className:"flex max-h-48 flex-col gap-1 overflow-y-auto px-2 py-2",children:K(s)})}),document.getElementById("dropdownDiv"))]})};Bs.__docgenInfo={description:"",methods:[],displayName:"Select",props:{id:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"union",raw:"TOption[] | string[]",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  value: string;
  label: string;
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"TOption[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},size:{required:!1,tsType:{name:"SelectSize"},description:"",defaultValue:{value:"SelectSize.MEDIUM",computed:!0}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Jr=()=>{const{mutate:t}=It(),{isPending:s}=mt(),o=()=>{t()};return f.jsx(Tt,{width:"w-5",height:"h-5",onClick:o,disable:s,"aria-label":"워크스페이스 추가 버튼",children:f.jsx(Nn,{width:"12",height:"12"})})};Jr.__docgenInfo={description:`@description
워크스페이스 추가 버튼 컴포넌트`,methods:[],displayName:"WorkspaceAddBtn"};const zr=()=>{const{mutate:t}=It(!0),{isPending:s}=mt(),o=()=>{t()};return f.jsx("button",{onClick:o,className:"text-bold-rg rounded-full border border-gray-100 px-4 py-2 text-gray-400 transition-colors ease-in-out hover:border-gray-300 hover:bg-gray-50 hover:text-gray-300",disabled:s,"aria-label":"예시 워크스페이스 만들기 버튼",children:s?f.jsx(Ve,{width:4,height:4,backgroundColor:"gray200",foregroundColor:"grayWhite"}):f.jsx("p",{children:"예시 불러오기"})})};zr.__docgenInfo={description:`@description
Workspace 샘플을 생성하는 버튼입니다.`,methods:[],displayName:"WorkspaceSampleButton"};const Qr=t=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},I.createElement("path",{d:"M8.5 3.5L17 12L8.5 20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})),Zr=I.memo(()=>{const{workspace:t}=be(),s=()=>{t!==null&&t.undo(!0)};return f.jsx(Tt,{onClick:s,width:"w-[30px]",height:"h-[30px] ","aria-label":"redo 버튼",children:f.jsx(Qr,{})})});Zr.__docgenInfo={description:`@description
워크스페이스 캔버스에서 redo 기능을 실행시키는 버튼입니다.`,methods:[],displayName:"RedoButton"};const ei=t=>I.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},I.createElement("path",{d:"M15.5 20.5L7 12L15.5 3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})),ti=I.memo(()=>{const{workspace:t}=be(),s=()=>{t!==null&&t.undo(!1)};return f.jsx(Tt,{onClick:s,width:"w-[30px]",height:"h-[30px] ","aria-label":"undo 버튼",children:f.jsx(ei,{})})});ti.__docgenInfo={description:`@description
워크스페이스 캔버스에서 undo 기능을 실행시키는 버튼입니다.`,methods:[],displayName:"UndoButton"};const si=(t,s)=>{let o;return(...e)=>{clearTimeout(o),o=window.setTimeout(()=>{t(...e)},s)}},ni=()=>{const t=ht().workspaceId,{mutate:s,isPending:o}=Ti(t),{totalCssPropertyObj:e}=Z(),{workspace:r}=be(),{isResetCssChecked:l}=it(),[a,c]=I.useState(!1);return{handleSave:si(async()=>{On("workspace_saved");try{c(!0);const p=await qn(),b=p.getContext("2d").getImageData(0,0,p.width,p.height),O=new Worker(new URL(""+new URL("capturePreview.worker-DlWhUxlD.js",import.meta.url).href,import.meta.url),{type:"module"});O.postMessage({imageData:b,width:p.width,height:p.height}),O.onmessage=h=>{if(h.data.error){c(!1);return}const{thumbnail:S}=h.data,E=Wn.workspaces.save(r);s({totalCssPropertyObj:e,canvas:E,classBlockList:ne.contents,cssResetStatus:l,thumbnail:S}),O.terminate()}}catch(p){p&&typeof p=="string"&&w.error(p)}finally{c(!1)}},3e3),isPending:o,isCapture:a}},oi=()=>{const{handleSave:t,isCapture:s,isPending:o}=ni();return f.jsxs(f.Fragment,{children:[f.jsx("p",{children:o||s?"저장 중":"저장 완료"}),f.jsx("button",{onClick:t,className:"text-bold-rg w-16 rounded-[30px] bg-green-500 py-2 text-green-100 hover:border hover:border-green-500 hover:bg-green-100 hover:text-green-500",disabled:o,"aria-label":"워크스페이스 저장 버튼",children:o||s?f.jsx(Ve,{width:4,height:4,backgroundColor:"gray200",foregroundColor:"grayWhite"}):f.jsx("p",{children:"저장"})})]})};oi.__docgenInfo={description:`@description
Workspace 상태를 저장하는 버튼입니다.
저장 항목 : css 속성, 캔버스 블록 상태, css class 블록, css 리셋 여부, 미리보기 썸네일`,methods:[],displayName:"SaveButton"};const ri=I.memo(()=>{const{workspaceId:t}=ht(),{mutate:s,isPending:o}=_i(),{name:e}=be(),[r,l]=I.useState("");I.useEffect(()=>{l(e)},[e]);const a=p=>{l(p)},c=p=>{p.target.value===e||p.target.value===""||s({workspaceId:t,newName:p.target.value})},m=p=>{p.key==="Enter"&&$(p)},$=p=>{p.currentTarget.blur(),!(e===p.currentTarget.value||p.currentTarget.value==="")&&(s({workspaceId:t,newName:p.currentTarget.value}),p.preventDefault())};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{placeholder:"이름을 입력해주세요",className:"placeholder:text-semibold-rg w-[272px] rounded-md border border-green-500 px-3 py-1 placeholder:text-gray-100 focus:outline-none",onBlur:c,onKeyDown:m,maxLength:20,disabled:o,value:r,onChange:p=>a(p.target.value)}),o&&f.jsx("div",{className:"absolute right-5",children:f.jsx(Ve,{width:4,height:4,foregroundColor:"green500",backgroundColor:"gray200"})})]})})});ri.__docgenInfo={description:`@description
워크스페이스 이름을 수정할 수 있는 컴포넌트입니다.`,methods:[],displayName:"WorkspaceNameInput"};const Ps=({description:t,leftX:s,topY:o})=>{const{tooltipX:e,tooltipY:r,tooltipRef:l}=Ei(s,o);return rs.createPortal(f.jsx("div",{className:`text-gray-white text-tooltip-sm fixed z-[9999] rounded-3xl ${r>=0?"rounded-tl-none":"rounded-bl-none"} bg-green-500 px-3 py-2`,style:{left:`${e+18}px`,top:r>=0?`${r+8}px`:`${-r}px`},ref:l,children:f.jsx("p",{children:t})}),document.body)},ws=t=>I.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},I.createElement("mask",{id:"mask0_921_1400",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},I.createElement("rect",{width:16,height:16,fill:"#D9D9D9"})),I.createElement("g",{mask:"url(#mask0_921_1400)"},I.createElement("path",{d:"M7.99826 12.0006C8.22171 12.0006 8.41121 11.9234 8.56676 11.7691C8.72232 11.6149 8.8001 11.426 8.8001 11.2024C8.8001 10.979 8.72293 10.7895 8.5686 10.6339C8.41438 10.4784 8.22549 10.4006 8.00193 10.4006C7.77849 10.4006 7.58899 10.4778 7.43343 10.6321C7.27788 10.7863 7.2001 10.9752 7.2001 11.1988C7.2001 11.4222 7.27726 11.6117 7.4316 11.7673C7.58582 11.9228 7.77471 12.0006 7.99826 12.0006ZM8.00476 14.4006C7.12388 14.4006 6.29454 14.2339 5.51676 13.9006C4.73899 13.5673 4.05843 13.1089 3.4751 12.5256C2.89176 11.9423 2.43343 11.2619 2.1001 10.4846C1.76676 9.70725 1.6001 8.8767 1.6001 7.99292C1.6001 7.10914 1.76676 6.28114 2.1001 5.50892C2.43343 4.7367 2.89176 4.05892 3.4751 3.47559C4.05843 2.89225 4.73876 2.43392 5.5161 2.10059C6.29343 1.76725 7.12399 1.60059 8.00776 1.60059C8.89154 1.60059 9.71954 1.76725 10.4918 2.10059C11.264 2.43392 11.9418 2.89225 12.5251 3.47559C13.1084 4.05892 13.5668 4.73792 13.9001 5.51259C14.2334 6.28736 14.4001 7.11514 14.4001 7.99592C14.4001 8.87681 14.2334 9.70614 13.9001 10.4839C13.5668 11.2617 13.1084 11.9423 12.5251 12.5256C11.9418 13.1089 11.2628 13.5673 10.4881 13.9006C9.71332 14.2339 8.88554 14.4006 8.00476 14.4006ZM8.0536 5.16725C8.32393 5.16725 8.56593 5.25159 8.7796 5.42025C8.99327 5.58892 9.1001 5.79975 9.1001 6.05275C9.1001 6.28464 9.0296 6.49503 8.8886 6.68392C8.74749 6.87281 8.58465 7.04503 8.4001 7.20059C8.14454 7.42281 7.91121 7.66725 7.7001 7.93392C7.48899 8.20059 7.38343 8.50059 7.38343 8.83392C7.38343 9.00059 7.44276 9.13947 7.56143 9.25059C7.6801 9.3617 7.81854 9.41725 7.97676 9.41725C8.15532 9.41725 8.3066 9.35892 8.4306 9.24225C8.55471 9.12559 8.63343 8.97836 8.66676 8.80059C8.71121 8.56725 8.81121 8.36092 8.96676 8.18159C9.12232 8.00236 9.28899 7.83125 9.46676 7.66825C9.72232 7.43425 9.93899 7.16897 10.1168 6.87242C10.2945 6.57586 10.3834 6.25747 10.3834 5.91725C10.3834 5.35059 10.1529 4.8867 9.69176 4.52559C9.23065 4.16447 8.69404 3.98392 8.08193 3.98392C7.65904 3.98392 7.25915 4.07836 6.88226 4.26725C6.50526 4.45614 6.19365 4.72986 5.94743 5.08842C5.86032 5.20853 5.83621 5.34059 5.8751 5.48459C5.91399 5.62859 5.99454 5.75059 6.11676 5.85059C6.27232 5.97281 6.43899 6.00892 6.61676 5.95892C6.79454 5.90892 6.94454 5.80614 7.06676 5.65059C7.18899 5.49503 7.33538 5.37559 7.50593 5.29225C7.67649 5.20892 7.85904 5.16725 8.0536 5.16725Z",fill:"#90A2B6"}))),ii=({cssItem:t,index:s})=>{const o=Z(A=>A.totalCssPropertyObj),e=Z(A=>A.currentCssClassName),{handleCssPropertyCheckboxChange:r,handleCssOptionChange:l,handleColorChange:a}=vs(),{cssOptionValue:c,isHover:m,indexOfHover:$,isChecked:p,cssOption:T,handleMouseEnter:b,handleEnterKey:O,handleMouseLeave:h,handleChangeInputValue:S,offsetX:E,offsetY:C}=fi(t);return f.jsxs("div",{className:`flex h-[66px] w-full flex-shrink-0 items-center justify-between rounded-lg px-4 ${o[e]&&o[e].checkedCssPropertyObj[t.label]?"bg-yellow-500":"bg-gray-50"} `,children:[f.jsxs("div",{className:"flex items-center gap-5",children:[f.jsx("input",{type:"checkbox",checked:p,onChange:()=>r(t.label,p,T),title:t.label,className:"h-5 w-5 appearance-none rounded border border-gray-100 bg-center bg-no-repeat checked:bg-white checked:bg-[url('@/shared/assets/check.svg')]",disabled:e.length===0}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-semibold-md text-gray-black max-w-36 border-gray-100",children:t.label}),f.jsx(ws,{onMouseEnter:A=>b(A,s),onMouseLeave:h}),m&&$===s&&f.jsx(Ps,{description:t.description,leftX:E,topY:C})]})]}),t.type==="select"&&f.jsx(Bs,{id:t.label,options:t.option,value:T,onChange:A=>l(t.label,A),disabled:e.length===0,size:He.SMALL}),t.type==="input"&&f.jsx("input",{type:"text",className:"text-medium-md placeholder:text-medium-md w-36 rounded-lg border border-gray-100 px-4 py-1.5 text-gray-500 placeholder-gray-100 focus:border-gray-200 focus:outline-none disabled:border disabled:border-gray-100 disabled:bg-gray-50",placeholder:"값을 입력하세요",onBlur:A=>l(t.label,A.target.value),onKeyDown:A=>O(t.label,A),value:c,onChange:S,disabled:e.length===0}),t.type==="color"&&f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("p",{className:"text-medium-md text-gray-500",children:T}),f.jsx("input",{type:"color",title:T,onChange:A=>a(t.label,A.target.value),value:T,className:"h-5 w-5 cursor-pointer appearance-none bg-transparent",disabled:e.length===0})]})]})};ii.__docgenInfo={description:`@description
CSS 속성을 선택할 수 있는 컴포넌트`,methods:[],displayName:"CssOptionItem",props:{cssItem:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  label: string;
  type: 'select' | 'input' | 'color';
  option?: string[];
  description: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:"'select' | 'input' | 'color'",elements:[{name:"literal",value:"'select'"},{name:"literal",value:"'input'"},{name:"literal",value:"'color'"}],required:!0}},{key:"option",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"description",value:{name:"string",required:!0}}]}},description:""},index:{required:!0,tsType:{name:"number"},description:""}}};let rt=null;const zt=(t,s)=>{rt||(rt=Mn(s)),rt.render(Ps(t))},li=({tagSrc:t,onSetTagSrc:s})=>{const o=ht().workspaceId,{mutate:e}=gi(),{imageList:r}=_e(),l=I.useRef(null),{mutate:a}=hi(),c=b=>{var h;const O=(h=b.target.files)==null?void 0:h[0];if(O){const S=new FileReader;S.onload=E=>{if(E.target){if(!["image/png","image/jpg","image/jpeg","image/svg+xml"].includes(O.type))return $("파일이 존재하지 않거나 유효하지 않은 타입입니다.");const A=O.name.replace(/\.(png|jpeg|jpg|svg)$/i,"");if(/[\\/:*?"<>|]/.test(A))return $('파일 이름에 다음 문자를 포함할 수 없습니다: \\ / : * ? " < > | .');const v=O.name.replace(/\.(png|jpeg|jpg|svg)$/i,"<$1");if(r.has(v))return $("이미 존재하는 파일 이름입니다.");a({workspaceId:o,imageName:v,image:O})}},S.readAsDataURL(O),l.current&&(l.current.value="")}},m=()=>{var b;(b=l.current)==null||b.click()},$=b=>(l.current&&(l.current.value=""),w.error(b),!1),p=b=>{s(b===t?"":b)},T=(b,O)=>{e({workspaceId:o,imageName:b}),O===t&&s("")};return f.jsxs("div",{className:"flex h-full w-[36rem] flex-col gap-3",children:[f.jsx("span",{className:"text-semibold-md w-full text-gray-400",children:"업로드된 이미지"}),f.jsx("div",{className:"relative h-full w-full overflow-auto",children:f.jsx("div",{className:"absolute flex w-full flex-col",children:Array.from(r.entries()).map(([b,O],h)=>f.jsx(Ln,{isSelected:t===O,onDeleteImage:()=>T(b,O),onSelectImage:()=>p(O),filename:b},`imageList${h}`))})}),f.jsx("button",{className:"w-full rounded-lg bg-black py-3 text-center align-middle text-gray-50",onClick:m,"aria-label":"이미지 업로드 버튼",children:"이미지 업로드하기"}),f.jsx("input",{title:"이미지 업로드",className:"hidden",type:"file",accept:"image/png, image/jpg, image/jpeg, image/svg+xml",onChange:c,ref:l})]})};li.__docgenInfo={description:`@component
@description
실제 해당 워크스페이스 db 내에 저장되어있는 imgList 목록의 파일 이름들을 보여주는 컴포넌트입니다.`,methods:[],displayName:"ImageTagModalList",props:{tagSrc:{required:!0,tsType:{name:"string"},description:""},onSetTagSrc:{required:!0,tsType:{name:"signature",type:"function",raw:"(src: string) => void",signature:{arguments:[{type:{name:"string"},name:"src"}],return:{name:"void"}}},description:""}}};const ai=I.memo(()=>{const[t,s]=I.useState(!1),o=()=>{try{s(!0),Jn()}catch(e){e instanceof Error&&w.error(e.message)}finally{s(!1)}};return f.jsx("button",{onClick:o,className:"text-bold-rg rounded-full border border-gray-100 bg-white px-4 py-2 text-gray-400 transition-colors ease-in-out hover:border-gray-300 hover:bg-gray-50 hover:text-gray-300",disabled:t,children:t?f.jsx(Ve,{width:4,height:4,foregroundColor:"grayWhite",backgroundColor:"gray200"}):f.jsx("p",{children:"코드 내보내기"})})});ai.__docgenInfo={description:"",methods:[],displayName:"CodeExportButton"};const Qt=t=>Symbol.iterator in t,Zt=t=>"entries"in t,es=(t,s)=>{const o=t instanceof Map?t:new Map(t.entries()),e=s instanceof Map?s:new Map(s.entries());if(o.size!==e.size)return!1;for(const[r,l]of o)if(!Object.is(l,e.get(r)))return!1;return!0},ci=(t,s)=>{const o=t[Symbol.iterator](),e=s[Symbol.iterator]();let r=o.next(),l=e.next();for(;!r.done&&!l.done;){if(!Object.is(r.value,l.value))return!1;r=o.next(),l=e.next()}return!!r.done&&!!l.done};function ui(t,s){return Object.is(t,s)?!0:typeof t!="object"||t===null||typeof s!="object"||s===null?!1:!Qt(t)||!Qt(s)?es({entries:()=>Object.entries(t)},{entries:()=>Object.entries(s)}):Zt(t)&&Zt(s)?es(t,s):ci(t,s)}function di(t){const s=En.useRef();return o=>{const e=t(o);return ui(s.current,e)?s.current:s.current=e}}const pi=I.memo(()=>{const{openCoachMark:t}=xn(di(s=>({openCoachMark:s.openCoachMark})));return f.jsxs("button",{className:"text-medium-rg hover flex items-center gap-1 text-gray-300 hover:text-gray-500",onClick:t,"aria-label":"도움말 버튼",children:["도움말 ",f.jsx(ws,{})]})});pi.__docgenInfo={description:"",methods:[],displayName:"HelpButton"};const $i="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_921_1400'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='16'%20height='16'%3e%3crect%20width='16'%20height='16'%20fill='%23D9D9D9'%20/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_921_1400)'%3e%3cpath%20d='M7.99826%2012.0006C8.22171%2012.0006%208.41121%2011.9234%208.56676%2011.7691C8.72232%2011.6149%208.8001%2011.426%208.8001%2011.2024C8.8001%2010.979%208.72293%2010.7895%208.5686%2010.6339C8.41438%2010.4784%208.22549%2010.4006%208.00193%2010.4006C7.77849%2010.4006%207.58899%2010.4778%207.43343%2010.6321C7.27788%2010.7863%207.2001%2010.9752%207.2001%2011.1988C7.2001%2011.4222%207.27726%2011.6117%207.4316%2011.7673C7.58582%2011.9228%207.77471%2012.0006%207.99826%2012.0006ZM8.00476%2014.4006C7.12388%2014.4006%206.29454%2014.2339%205.51676%2013.9006C4.73899%2013.5673%204.05843%2013.1089%203.4751%2012.5256C2.89176%2011.9423%202.43343%2011.2619%202.1001%2010.4846C1.76676%209.70725%201.6001%208.8767%201.6001%207.99292C1.6001%207.10914%201.76676%206.28114%202.1001%205.50892C2.43343%204.7367%202.89176%204.05892%203.4751%203.47559C4.05843%202.89225%204.73876%202.43392%205.5161%202.10059C6.29343%201.76725%207.12399%201.60059%208.00776%201.60059C8.89154%201.60059%209.71954%201.76725%2010.4918%202.10059C11.264%202.43392%2011.9418%202.89225%2012.5251%203.47559C13.1084%204.05892%2013.5668%204.73792%2013.9001%205.51259C14.2334%206.28736%2014.4001%207.11514%2014.4001%207.99592C14.4001%208.87681%2014.2334%209.70614%2013.9001%2010.4839C13.5668%2011.2617%2013.1084%2011.9423%2012.5251%2012.5256C11.9418%2013.1089%2011.2628%2013.5673%2010.4881%2013.9006C9.71332%2014.2339%208.88554%2014.4006%208.00476%2014.4006ZM8.0536%205.16725C8.32393%205.16725%208.56593%205.25159%208.7796%205.42025C8.99327%205.58892%209.1001%205.79975%209.1001%206.05275C9.1001%206.28464%209.0296%206.49503%208.8886%206.68392C8.74749%206.87281%208.58465%207.04503%208.4001%207.20059C8.14454%207.42281%207.91121%207.66725%207.7001%207.93392C7.48899%208.20059%207.38343%208.50059%207.38343%208.83392C7.38343%209.00059%207.44276%209.13947%207.56143%209.25059C7.6801%209.3617%207.81854%209.41725%207.97676%209.41725C8.15532%209.41725%208.3066%209.35892%208.4306%209.24225C8.55471%209.12559%208.63343%208.97836%208.66676%208.80059C8.71121%208.56725%208.81121%208.36092%208.96676%208.18159C9.12232%208.00236%209.28899%207.83125%209.46676%207.66825C9.72232%207.43425%209.93899%207.16897%2010.1168%206.87242C10.2945%206.57586%2010.3834%206.25747%2010.3834%205.91725C10.3834%205.35059%2010.1529%204.8867%209.69176%204.52559C9.23065%204.16447%208.69404%203.98392%208.08193%203.98392C7.65904%203.98392%207.25915%204.07836%206.88226%204.26725C6.50526%204.45614%206.19365%204.72986%205.94743%205.08842C5.86032%205.20853%205.83621%205.34059%205.8751%205.48459C5.91399%205.62859%205.99454%205.75059%206.11676%205.85059C6.27232%205.97281%206.43899%206.00892%206.61676%205.95892C6.79454%205.90892%206.94454%205.80614%207.06676%205.65059C7.18899%205.49503%207.33538%205.37559%207.50593%205.29225C7.67649%205.20892%207.85904%205.16725%208.0536%205.16725Z'%20fill='%2390A2B6'%20/%3e%3c/g%3e%3c/svg%3e";class Ds extends Rt{constructor(){super(...arguments);z(this,"pElement",null);z(this,"inputElement",null);z(this,"buttonElement",null)}init(o){super.init(o);const e=this.targetWorkspace.getToolbox(),r=se.createElement("div",{class:"contentCreatingBlock"}),l=se.createElement("label",{for:"creatingBlockInput",class:"creatingBlockLabel"});l.textContent="클래스 생성하기",this.inputElement=se.createElement("input",{type:"text",placeholder:"클래스명을 정해주세요",class:"creatingBlockInput",id:"creatingBlockInput",maxlength:"30"}),this.inputElement.addEventListener("keydown",S=>{S.key==="Enter"&&this.createStyleBlock()});const a=se.createElement("button",{class:"creatingBlockButton"});a.textContent="+",a.addEventListener("click",()=>this.createStyleBlock());const c=se.createElement("label",{class:"listBlockLabel"});c.textContent="클래스 블록 목록";const m=se.createElement("div",{class:"resetCssDiv"}),$=se.createElement("input",{type:"checkbox",class:"resetCssCheckbox"});$.checked=it.getState().isResetCssChecked,$.addEventListener("change",()=>{it.getState().toggleResetCss(),Ce.getState().setIsCssChanged(!0)});const p=se.createElement("span",{class:"resetCssText"});p.textContent="reset CSS 적용하기";const T=se.createElement("img",{src:$i,alt:"reset CSS Info",class:"questionImage"}),b=document.createElement("div");document.body.appendChild(b);const O=()=>{const{left:S,top:E}=T.getBoundingClientRect();zt({description:"브라우저마다 다른 기본 스타일을 일관되게 만들기 위해, 모든 요소의 기본 스타일을 초기화하는 CSS입니다.",isOpen:!0,leftX:S,topY:E},b)},h=()=>{zt({description:"",isOpen:!1,leftX:0,topY:0},b)};T.addEventListener("mouseenter",O),T.addEventListener("mouseleave",h),m.appendChild($),m.appendChild(p),m.appendChild(T),[l,this.inputElement,a,m,c].forEach(S=>r.appendChild(S)),e.addElementToContentArea(r,!0),this.registerCustomContextMenu(),this.show(ne.contents)}addPrefixToClassName(o){return`CSS_${o}`}registerCustomContextMenu(){const o="deleteBlock";if(et.registry.getItem(o))return;const e={id:o,scopeType:et.ScopeType.BLOCK,displayText:"블록 삭제",weight:100,preconditionFn:r=>{const l=r.block.type;return ne.contents.some(c=>c.type===l)&&r.block.isDeletable()?"enabled":"hidden"},callback:r=>{const l=r.block,a=l.type;xt().getBlocksByType(a).forEach(T=>{T.dispose(!1,!0)}),l.dispose(!1,!0),Z.getState().removeCssClass(a),Ce.getState().setIsBlockChanged(!0),ne.contents=ne.contents.filter(T=>T.type!==a);const{removeClassBlock:$}=Lt.getState();$(a),xt().getToolbox().getFlyout().show(ne.contents),w.success(`"${a.replace("CSS_","")}" 클래스 블록이 삭제되었습니다.`)}};et.registry.register(e),document.addEventListener("click",r=>{const l=document.querySelector(".blocklyContextMenu");l&&!l.contains(r.target)&&(l.style.display="none")})}createStyleBlock(){var c;const o=(c=this.inputElement)==null?void 0:c.value;if(!o)return w.error("클래스명을 입력해주세요.");if(Yr(o)){if(!Kr(o))return w.error("클래스명은 영문자, 밑줄(_), 하이픈(-), 숫자만 포함해주세요")}else return w.error("클래스명 첫 글자는 영문자, 밑줄(_), 하이픈(-)만 가능해요");const e=this.addPrefixToClassName(o),r=ne.contents||[];if(r.some(m=>m.type===e))return w.error(`"${o}" 입력한 클래스명 블록은 이미 존재합니다.`);Mt[e]||(Mt[e]={init:function(){this.appendDummyInput().appendField(new Xr(o),"CLASS"),this.setOutput(!0),this.setStyle("defaultBlockCss"),this.showContextMenu=m=>{if(this.getSvgRoot().transform.baseVal[0].matrix.e!==8)return;const p=this.generateContextMenu();Hn.show(m,p,this.RTL)}}}),Z.getState().addNewCssClass(e),Ce.getState().setIsBlockChanged(!0),ne.contents=[...r,{kind:"block",type:e,enabled:!0}];const{addClassBlock:a}=Lt.getState();a(e),this.show(ne.contents),w.success(`입력한 클래스명 블록 "${o}"이(가) 추가되었습니다.`),this.inputElement&&(this.inputElement.value="")}}z(Ds,"registryName","StyleFlyout");const fc={tabs:{html:{label:"HTML 태그",toolboxConfig:Vr,flyoutRegistryName:Rt.registryName},css:{label:"CSS 클래스",toolboxConfig:ne,flyoutRegistryName:Ds.registryName}},defaultSelectedTab:"html"},_i=()=>{const t=Ne(),s=Ae(),o=Se()||Ge(),{setName:e}=be(),{mutate:r,isPending:l}=Ie({mutationFn:({workspaceId:a,newName:c})=>s.updateWorkspaceName(o,a,c),onSuccess:a=>{w.success("워크스페이스 이름이 변경되었습니다."),e(a.name),t.invalidateQueries({queryKey:fe.list()})},onError:()=>{w.error("워크스페이스 이름 변경을 실패했습니다.")}});return{mutate:r,isPending:l}},mi=()=>{const t=Ne(),s=Ae(),o=Se()||Ge(),{closeModal:e,setIsLoading:r}=ns(),{mutate:l}=Ie({mutationFn:a=>(r(!0),s.deleteWorkspace(o,a)),onSuccess:()=>{t.invalidateQueries({queryKey:fe.list()}),w.success("워크스페이스 삭제 성공")},onError:()=>{w.error("워크스페이스 삭제 실패")},onSettled:()=>{r(!1),e()}});return{mutate:l}},fe={all:["workspace"],list:()=>[...fe.all,"list"],detail:t=>[...fe.all,"detail",t]},Ti=t=>{const s=Ae(),o=Se()||Ge(),{resetChangedStatusState:e}=Ce(),{imageMap:r}=_e(),l=Ne(),{mutate:a,isPending:c}=Ie({mutationFn:({totalCssPropertyObj:m,canvas:$,classBlockList:p,cssResetStatus:T,thumbnail:b})=>s.saveWorkspace(o,t,m,$,p,T,b,r),onSuccess:()=>{e(),l.invalidateQueries({queryKey:fe.list()})},onError:()=>{w.error("저장에 실패했습니다.")}});return{mutate:a,isPending:c}},hi=()=>{const t=Ae(),s=Se()||"",{pushImagePath:o,setNowImage:e}=_e(),{mutate:r,isPending:l}=Ie({mutationFn:({workspaceId:a,imageName:c,image:m})=>t.postImage(s,a,c,m),onSuccess:a=>{o(a.imageName,a.imageUrl),e(a.imageUrl),w.success("성공적으로 저장되었습니다.")},onError:()=>{w.error("저장에 실패했습니다.")}});return{mutate:r,isPending:l}},gi=()=>{const t=Ae(),s=Se()||"",{deleteImagePath:o}=_e(),{mutate:e}=Ie({mutationFn:({workspaceId:r,imageName:l})=>t.deleteImage(s,r,l),onSuccess:r=>{o(r.imageName),w.success("이미지 삭제 성공")},onError:()=>{w.error("이미지 삭제 실패")}});return{mutate:e}},Ei=(t,s)=>{const o=I.useRef(null),[e,r]=I.useState(0),{screenHeight:l}=Fs();I.useLayoutEffect(()=>(o.current&&r(o.current.getBoundingClientRect().height),()=>r(0)),[o.current]);let a=t,c=0;return s+e>l?c=-s+e:c=s,{tooltipX:a,tooltipY:c,tooltipRef:o}},vs=()=>{const t=Z(c=>c.setCheckedCssPropertyObj),s=Z(c=>c.setCssOptionObj),o=Z(c=>c.currentCssClassName),{setIsCssChanged:e}=Ce(),r=(c,m,$)=>{e(!0),t(o,c,!m),m||s(o,c,$)},l=(c,m)=>{e(!0),s(o,c,m)},a=I.useCallback(is((c,m)=>{l(c,m)},200),[l]);return{handleCssPropertyCheckboxChange:r,handleCssOptionChange:l,handleColorChange:a}},fi=t=>{const{handleCssOptionChange:s}=vs(),o=Z(k=>k.currentCssClassName),e=Z(k=>k.totalCssPropertyObj),r=Z(k=>k.selectedCssCategory),[l,a]=I.useState(""),[c,m]=I.useState(!1),[$,p]=I.useState(-1),[T,b]=I.useState(!1),[O,h]=I.useState(t.type==="select"&&t.option.length>0?t.option[0]:""),[S,E]=I.useState(0),[C,A]=I.useState(0);return I.useEffect(()=>{e[o]&&a(e[o].cssOptionObj[t.label]||"")},[o,e,t.label]),I.useEffect(()=>{if(!e[o]){b(!1),h(t.type==="select"?t.option[0]:t.type==="color"?"#000000":"");return}if(b(e[o].checkedCssPropertyObj[t.label]??!1),!e[o].cssOptionObj[t.label]){h(t.type==="select"?t.option[0]:t.type==="color"?"#000000":"");return}h(e[o].cssOptionObj[t.label])},[e,o,t,r]),{cssOptionValue:l,isHover:c,indexOfHover:$,isChecked:T,cssOption:O,handleEnterKey:(k,H)=>{H.key==="Enter"&&(s(k,H.currentTarget.value),H.currentTarget.blur(),H.preventDefault())},handleMouseEnter:(k,H)=>{m(!0),p(H),E(k.currentTarget.getBoundingClientRect().x),A(k.currentTarget.getBoundingClientRect().y)},handleMouseLeave:()=>{m(!1),p(-1)},handleChangeInputValue:k=>{a(k.target.value)},offsetX:S,offsetY:C}},Fs=()=>{const[t,s]=I.useState(window.innerWidth),[o,e]=I.useState(window.innerHeight);return I.useEffect(()=>{const r=is(()=>{s(window.innerWidth),e(window.innerHeight)},200);return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),{screenWidth:t,setScreenWidth:s,screenHeight:o,setScreenHeight:e}},bi=()=>{const{mutate:t}=It(),s=()=>{t()};return f.jsx("div",{className:"flex h-[23rem] items-center justify-center border-4 border-dashed border-green-300 bg-green-100",onClick:s,children:f.jsx(Bn,{fill:"green"})})};bi.__docgenInfo={description:`@description
빈 워크스페이스에 마우스를 올렸을 때 보여지는 컴포넌트`,methods:[],displayName:"HoveredEmptyWorkspace"};export{Ka as $,Fs as A,Mt as B,ai as C,Q as D,uc as E,Vn as F,cl as G,bi as H,li as I,oa as J,se as K,Rt as L,oc as M,ra as N,Vl as O,dc as P,ya as Q,Zr as R,ws as S,ua as T,ti as U,Ds as V,Jr as W,aa as X,Ia as Y,Ra as Z,ce as _,jr as a,Vr as a0,Ec as a1,fc as a2,Wn as a3,ml as a4,Tc as a5,hc as a6,zr as b,ii as c,Ps as d,oi as e,ri as f,pi as g,xt as h,Bs as i,Se as j,Ge as k,Xr as l,Hn as m,ne as n,Ae as o,di as p,Zn as q,mc as r,Qn as s,$c as t,ni as u,Fn as v,fe as w,_c as x,gl as y,pc as z};
