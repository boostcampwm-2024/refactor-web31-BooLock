import{j as f}from"./jsx-runtime-DR9Q75dM.js";import{C as v}from"./CodeContent-TT6WBMFj.js";import{L as F}from"./LineNumbers-Brz8uVeN.js";import{s as g}from"./CodeViewer.module-CZ8GGqUa.js";import{u as L}from"./useCoachMarkStore-Bn0-Ay5q.js";const w=(t,s,r)=>{const p=t.split(`
`);let a=!1;return p.map(n=>r&&n.includes(`.${r}`)?(a=!0,`<span style="background-color: #FFF3AD;">${n}</span>`):a&&!n.includes("}")?`<span style="background-color: #FFF3AD;">${n}</span>`:a&&n.includes("}")?(a=!1,`<span style="background-color: #FFF3AD;">${n}</span>`):n.replace(/([^\s{}]+)\s*{/g,(c,i)=>{const e=r&&i.includes(`.${r}`)?`<span>${i}</span>`:i;return`<span class="${s.selector}">${e}</span> {`}).replace(/([\w-]+):/g,(c,i)=>`&nbsp;&nbsp;<span class="${s.property}">${i}</span>:`).replace(/:\s*([^;]+);/g,(c,i)=>`: <span class="${s["property-value"]}">${i}</span>;`)).join(`
`).split(`
`).map(n=>`  ${n}`).join(`
`)},x=(t,s,r)=>{const a=new DOMParser().parseFromString(t,"text/html"),l=(e,u)=>{const m="  ".repeat(u),d=`<span class="${s.tag}">${e.tagName.toLowerCase()}</span>`,o=Array.from(e.attributes).map($=>{const b=$.name==="class"&&r&&$.value.includes(r)?$.value.replace(r,`<span style="background-color: #FFF3AD; color: green">${r}</span>`):$.value;return`<span class="${s.attribute}">${$.name}</span>=<span class="${s.value}">"${b}"</span>`}).join(" "),C=`${m}&lt;${d}${o?" "+o:""}&gt;`,N=`${m}&lt;/${d}&gt;`,h=Array.from(e.childNodes).map($=>c($,u+1)).join("");return["br","hr","img"].includes(e.tagName.toLowerCase())?`
${m}&lt;${d}${o?" "+o:""} /&gt;`:e.tagName.toLowerCase()==="head"?`${m}&lt;${d}${o?" "+o:""}&gt;${h.trim()}&lt;/${d}&gt;`:h.trim()?`
${C}
${h}
${N}`:`
${C}
${N}`},n=(e,u)=>{var o;const m=(o=e.textContent)==null?void 0:o.trim(),d="  ".repeat(u);return m?`
${d}<span class="${s.text}">${m}</span>`:""},c=(e,u=0)=>e.nodeType===Node.ELEMENT_NODE?l(e,u):e.nodeType===Node.TEXT_NODE?n(e,u):"";return c(a.documentElement,0).trim().split(`
`).map(e=>`  ${e}`).join(`
`)},j=(t,s,r,p)=>(s==="html"?x(t,r,p||""):w(t,r,p||"")).split(`
`).filter(l=>l.trim()!==""),E=({code:t,type:s,theme:r,selectedBlockStartLine:p,selectedBlockLength:a,selectedBlockType:l})=>{const n=j(t,s,g,l),{currentStep:c}=L();return f.jsx("div",{className:`${g.viewer} ${r==="dark"?g.dark:g.light} ${c===3?"z-[200] bg-white":""}`,children:f.jsxs("div",{className:g.scrollContainer,children:[f.jsx(F,{codeLineList:n}),f.jsx(v,{code:t,codeLineList:n,selectedBlockLength:a,selectedBlockStartLine:p,selectedBlockType:l})]})})};E.__docgenInfo={description:`@description
변환된 HTML, CSS 코드를 줄 수와 함께 보여주는 컴포넌트`,methods:[],displayName:"CodeViewer",props:{code:{required:!0,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:"union",raw:"'html' | 'css'",elements:[{name:"literal",value:"'html'"},{name:"literal",value:"'css'"}]},description:""},theme:{required:!1,tsType:{name:"union",raw:"'light' | 'dark'",elements:[{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:""},selectedBlockStartLine:{required:!1,tsType:{name:"number"},description:""},selectedBlockLength:{required:!1,tsType:{name:"number"},description:""},selectedBlockType:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""}}};export{E as C};
